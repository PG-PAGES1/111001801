window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return a(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({Adaptive111001801:[function(e,t,n){"use strict";cc._RF.push(t,"5b433TtMx1CpqV2KWZwIofm","Adaptive111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111001801"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},i([l(cc.Node)],t.prototype,"sc1",void 0),i([l(cc.Node)],t.prototype,"cs2",void 0),i([l(cc.Node)],t.prototype,"cz",void 0),i([l(cc.Node)],t.prototype,"logo",void 0),i([l(cc.Node)],t.prototype,"bg_di",void 0),i([c],t)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801"}],Banner111001801:[function(e,t,n){"use strict";cc._RF.push(t,"e3f6fkMMhJFSoBlXh7PuykA","Banner111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Banner111001801=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},i([s,c("game/111001801/Banner")],t)}(slot.SlotBanner);n.Banner111001801=l,cc._RF.pop()},{}],BonusBubbleItem111001801:[function(e,t,n){"use strict";cc._RF.push(t,"f8b59IVM75GeIn+4c0nyD5H","BonusBubbleItem111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BonusBubbleItem111001801=void 0;var r,s=e("../base/GameData111001801"),c=e("../base/SoundManager111001801"),l=e("../base/Util111001801"),u=e("../GameEventName111001801"),p=cc._decorator,d=p.ccclass,h=p.property,m=p.menu,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sk=null,t.sk_hover=null,t.startSk=null,t.clickArea=null,t.bubbleState=0,t._y=250,t.enableClick=!1,t.stopMove=!1,t.timeout=null,t.canHover=!1,t.markEvent=null,t}return a(t,e),t.prototype.onLoad=function(){this.addListten()},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){this.clickArea.on(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.clickArea.on(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.removeListten=function(){this.clickArea.off(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.clickArea.off(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.mouseEnter=function(e){return!!s.GameData111001801.bonusGameIsEnable&&!!this.enableClick&&void(this.canHover&&(this.markEvent=e,this.sk_hover.node.active=!0))},t.prototype.mouseLeave=function(){this.sk_hover.node.active=!1,this.markEvent=null},t.prototype.onBtnClick=function(){return!!s.GameData111001801.bonusGameIsEnable&&!!this.enableClick&&void game.EventManager.getInstance().raiseEvent(u.EventName.BONUS_BUBBLE_ITEM_CLICK,this)},t.prototype.clear=function(){this.timeout&&clearTimeout(this.timeout),this.unscheduleAllCallbacks(),this.node.removeFromParent()},t.prototype.setClickState=function(e){e?this.enableClick=e:(this.enableClick=!1,this.stopMove=!0)},Object.defineProperty(t.prototype,"enableAddToContainer",{get:function(){return 0===this.bubbleState},enumerable:!1,configurable:!0}),t.prototype.setStart=function(){var e=this;if(0!==this.bubbleState)return!1;this.resetState(),this.node.active=!0,this.bubbleState=1,this.node.x=this.randomX,this.node.scale=this.randomScale,this.sk.node.angle=360*-Math.random();var t=slot.Handler.create(this,function(){e.enableClick=!0,e.startSk.node.active=!1,e.sk.node.active=!0,e.sk.setAnimation(0,r.LOOP,!0),e.schedule(e.upLoop,.1),e.canHover=!0});return this.timeout=setTimeout(function(){t.run()},800),this.startSk.node.active=!0,l.Util111001801.setAniByHandle(this.startSk,r.START,!1),!0},t.prototype.resetState=function(){return 1!==this.bubbleState&&(this.unscheduleAllCallbacks(),this.bubbleState=0,this.stopMove=!1,this.enableClick=!1,this.node.active=!1,this._y=250,this.node.y=this._y,this.node.scale=1,this.sk.node.active=!1,this.startSk.node.active=!1,this.sk_hover.node.active=!1,this.canHover=!1,!0)},t.prototype.fade=function(e,t){c.SoundManager111001801.ins.playEffect(c.SoundName111001801.prize_bonus_bubble_open,!1),setTimeout(function(){t&&t.run()},650),this.bubbleState=2,l.Util111001801.setAniByHandle(this.sk,e?r.WIN:r.NOT_WIN,!1)},t.prototype.upLoop=function(){this.stopMove||(this._y>=1164?(this.bubbleState=2,this.resetState()):(this._y+=this.speed,this.node.y=this._y,this.markEvent&&this.node.convertToNodeSpaceAR(this.markEvent.getLocation()).y<=-125*this.node.scale&&this.mouseLeave()))},Object.defineProperty(t.prototype,"speed",{get:function(){return 7},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"randomX",{get:function(){return 400*Math.random()-200},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"randomScale",{get:function(){return.7+.3*Math.random()},enumerable:!1,configurable:!0}),i([h(sp.Skeleton)],t.prototype,"sk",void 0),i([h(sp.Skeleton)],t.prototype,"sk_hover",void 0),i([h(sp.Skeleton)],t.prototype,"startSk",void 0),i([h(cc.Node)],t.prototype,"clickArea",void 0),i([d,m("game/111001801/BonusBubbleItem")],t)}(cc.Component);n.BonusBubbleItem111001801=f,function(e){e.START="start",e.LOOP="loop",e.NOT_WIN="click_noWin",e.WIN="click_win"}(r||(r={})),cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801","../base/GameData111001801":"GameData111001801","../base/SoundManager111001801":"SoundManager111001801","../base/Util111001801":"Util111001801"}],BonusBubbleRewardItem111001801:[function(e,t,n){"use strict";cc._RF.push(t,"869cfoeSttHNpttQEKKL4IE","BonusBubbleRewardItem111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BonusBubbleRewardItem111001801=void 0;var r=e("../base/GameData111001801"),s=e("../base/SoundManager111001801"),c=e("./BonusGameUIManager111001801"),l=cc._decorator,u=l.ccclass,p=l.property,d=l.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textNode=null,t.lightNode=null,t.numText=null,t}return a(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.textNode.active=!1,this.lightNode.active=!1},t.prototype.moveTo=function(e,t,n,o){this.node.setPosition(t),this.node.active=!0,this.node.opacity=255;var a=r.GameData111001801.converToNumber(e.number);this.numText.string=slot.SlotUtils.formatNumber(a),this.numText.node.active=0===e.rewardType&&a>0;var i=0===e.rewardType&&0===a;this.textNode.active=10===e.rewardType||i;var l=-1;if(i&&(l=c.BonusResType.THANKS),10===e.rewardType&&(l=3===a?c.BonusResType.OBTAIN_3_TIMES:c.BonusResType.OBTAIN_2_TIMES),-1!==l&&this.textNode.children.forEach(function(e,t){e.active=t===l}),i)setTimeout(function(){o&&o.run()},700);else{var u=0===e.rewardType,p=u?r.GameData111001801.bonusRewardPos[1]:r.GameData111001801.bonusRewardPos[0];u&&(setTimeout(function(){s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_bonus_bubble_open_coins,!1)},10),this.lightNode.active=!0);var d=Math.abs(this.node.x)/200*.25;cc.tween(this.node).delay(.7).to(d,{x:p.x}).to(.4,{y:p.y,opacity:0}).call(function(){u?(n.sumRewardNum+=a,s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_bonus_counting,!1),n.setLabelByEnum(c.BounsNumEnum.WIN_NUM_TEXT,n.sumRewardNum,!0),n.playNumLight(2,4),n.playNumLight(3,10),n.syncInfo()):(n.playNumLight(0,2),n.playNumLight(1,10),n.setLabelByEnum(c.BounsNumEnum.TOP_TIMES,n.times),s.SoundManager111001801.ins.playEffect(s.SoundName111001801.Bounty_Prompt_Box,!1)),o&&o.run()}).start()}},i([p(cc.Node)],t.prototype,"textNode",void 0),i([p(cc.Node)],t.prototype,"lightNode",void 0),i([p(cc.Label)],t.prototype,"numText",void 0),i([u,d("game/111001801/BonusBubbleRewardItem")],t)}(cc.Component);n.BonusBubbleRewardItem111001801=h,cc._RF.pop()},{"../base/GameData111001801":"GameData111001801","../base/SoundManager111001801":"SoundManager111001801","./BonusGameUIManager111001801":"BonusGameUIManager111001801"}],BonusGame111001801:[function(e,t,n){"use strict";cc._RF.push(t,"7dbe5I4V71IS6vg968TQvs+","BonusGame111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/GameData111001801"),s=e("../base/SoundManager111001801"),c=e("../GameEventName111001801"),l=e("../roller/uiManager/GameLayer111001801"),u=e("./BonusGameUIManager111001801"),p=cc._decorator,d=p.ccclass,h=p.menu,m=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiManager=null,t.times=8,t}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log("onopen"),this.onInit(),this.times=slot.BonusGameManager.instance.bonusGameInfo.quantity,this.uiManager.initBounsGameData(this),this.uiManager.initNode(),this.uiManager.reconnectGame(),l.default.isAutoStartBonuGame?this.startGame():game.EventManager.getInstance().addEventListener(c.EventName.BOUNDGAME_STATR,this.startGame,this),r.GameData111001801.roleNormalSoundIntervalState=!1},t.prototype.startGame=function(){this.uiManager.initUI(),s.SoundManager111001801.ins.playMusic(s.SoundName111001801.Bonus_Back_Music,!0)},t.prototype.onClose=function(){r.GameData111001801.roleNormalSoundIntervalState=!0,r.GameData111001801.roleNormalSoundInterval=0,game.EventManager.getInstance().raiseEvent(c.EventName.BONUS_BACK_HOME),game.EventManager.getInstance().raiseEvent(c.EventName.RESET_STOVE_ANI),r.GameData111001801.isBonusBackToSyncScore=!0,game.EventManager.getInstance().removeEventListener(c.EventName.BOUNDGAME_STATR,this.startGame,this)},t.prototype.onActionResult=function(){var e=this.getLastActionResp();this.times=e.times,this.uiManager.actionResp(e)},t.prototype.do=function(){this.operate([])},t.prototype.end=function(){this.times<=0&&(this.next(),this.uiManager.clearNodeInner(),this.uiManager.stopAndClearBubble())},i([m(u.default)],t.prototype,"uiManager",void 0),i([d,h("game/111001801/BonusGame")],t)}(slot.AbstractBonusGameView);n.default=f,cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801","../base/GameData111001801":"GameData111001801","../base/SoundManager111001801":"SoundManager111001801","../roller/uiManager/GameLayer111001801":"GameLayer111001801","./BonusGameUIManager111001801":"BonusGameUIManager111001801"}],BonusGameUIManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"6266bZ+kOxJB7zlt28S9clg","BonusGameUIManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BonusResType=n.BounsNumEnum=void 0;var r,s=e("../base/GameData111001801"),c=e("../base/SoundManager111001801"),l=e("../base/Util111001801"),u=e("../GameEventName111001801"),p=e("./BonusBubbleItem111001801"),d=e("./BonusBubbleRewardItem111001801"),h=cc._decorator,m=h.ccclass,f=h.menu,_=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.bubbleContainer=null,t.bubbleItemPrefab=null,t.topNode=null,t.numList=[],t.winTitleNode=null,t.coinPopSk=null,t.descNode=null,t.startBtn=null,t.sumContainer=null,t.sumSp=null,t.obtainBtn=null,t.winNode=null,t.slotInfo=null,t.lights=[],t.coinEffectContainer=null,t.coinEffectPrefab=null,t.rewardContainer=null,t.bubbleRewardPrefab=null,t.isStart=!1,t.bubbleList=[],t.startHandle=null,t.endHandle=null,t.bonus=null,t.operateBubbleItem=null,t.realTimes=0,t.rewardItemPool=new cc.NodePool("rewardItemPool"),t.rewardEffectItemPool=new cc.NodePool("rewardEffectItemPool"),t.initBalance=0,t.sumRewardNum=0,t}return a(t,e),t.prototype.onLoad=function(){},t.prototype.initBounsGameData=function(e){this.bonus=e,this.realTimes=this.times},t.prototype.initUI=function(){var e=this;s.GameData111001801.bonusGameIsEnable=!1,this.setLabelByEnum(r.TOP_TIMES,this.times),this.setLabelByEnum(r.DESC_TIMES,this.times),this.setLabelByEnum(r.WIN_NUM_TEXT,0|slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin,!0),this.setLabelByEnum(r.WIN_NUM_ANI_TEXT,0|slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin,!0,!1),this.initBalance=slot.PlayerManager.instance.showCoin,this.syncInfo(),this.startBtn.getComponent(cc.Button).enabled=!1;var t=slot.Handler.create(this,function(){e.startBtn.getComponent(cc.Button).enabled=!0});l.Util111001801.fadeAni(this.startBtn,!0),l.Util111001801.fadeAni(this.descNode,!0),this.topNode.active=!0,this.setTopNode(!0,.5,t),this.schedule(this.incBubble,1.8),this.addListten(),this.scheduleOnce(function(){e.onStartBtn()},8)},t.prototype.clearNodeInner=function(){this.removeListten(),this.rewardItemPool.clear(),this.rewardEffectItemPool.clear()},t.prototype.reconnectGame=function(){if(s.GameData111001801.bonusGameIsEnable=this.times<=0,s.GameData111001801.bonusHandler=null,this.times<=0){var e=slot.Handler.create(this,this.openSum);s.GameData111001801.IsEnterGame?e.run():s.GameData111001801.bonusHandler=e}},t.prototype.initNode=function(){this.startBtn.opacity=0,this.startBtn.active=!1,this.topNode.active=!1,this.startBtn.getComponent(cc.Button).enabled=!0,this.descNode.opacity=0,this.descNode.active=!1,this.sumContainer.active=!1,this.lights.forEach(function(e){e.active=!1}),this.sumRewardNum=slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(u.EventName.BONUS_BUBBLE_ITEM_CLICK,this.itemClick,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(u.EventName.BONUS_BUBBLE_ITEM_CLICK,this.itemClick,this)},t.prototype.actionResp=function(e){var t=this;console.log("\u5c0f\u6e38\u620f\u7684\u64cd\u4f5c\u8fd4\u56de\u7ed3\u679c-------------",e);var n=this.operateBubbleItem;this.operateBubbleItem=null,this.times<=0&&(s.GameData111001801.bonusGameIsEnable=!1);var o=slot.Handler.create(this,function(){if(n.resetState(),t.times<=0){var e=slot.Handler.create(t,function(){t.openSum()}),o=slot.Handler.create(t,function(){cc.tween(t.numList[r.WIN_NUM_TEXT].node).set({y:-60}).to(1,{y:660}).set({active:!1}).call(function(){e.run()}).start()}),a=slot.Handler.create(t,function(){var e=slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin;t.setLabelByEnum(r.SUM_NUM,e,!0,!0),t.setLabelByEnum(r.WIN_NUM_ANI_TEXT,e,!0),cc.tween(t.numList[r.WIN_NUM_ANI_TEXT].node).set({opacity:255,scale:.98}).to(.3,{opacity:0,scale:2}).delay(.6).call(function(){o.run()}).start(),cc.tween(t.winTitleNode).set({scale:.98}).delay(.3).to(.2,{scale:.8}).to(.2,{scale:2}).to(.2,{scale:.98,opacity:180}).call(function(){t.setTopNode(!1,.3)}).to(.3,{scale:.5,opacity:0}).start()});cc.tween(t.numList[r.TOP_TIMES].node).delay(.3).to(.25,{opacity:100}).to(.25,{opacity:255}).delay(.3).to(.25,{opacity:100}).to(.25,{opacity:255}).call(function(){a.run()}).start()}}),a=slot.Handler.create(this,function(){t.setReward(e.reward.reward[0],n.node,o)});n.fade(Number(e.reward.reward[0].number)>0,a)},t.prototype.itemClick=function(e,t){t&&!this.operateBubbleItem?(this.operateBubbleItem=t,this.realTimes--,this.setLabelByEnum(r.TOP_TIMES,this.realTimes),this.bonus.do(),t.setClickState(!1)):t.setClickState(!0)},Object.defineProperty(t.prototype,"times",{get:function(){return this.bonus.times},enumerable:!1,configurable:!0}),t.prototype.openSum=function(){var e=this;c.SoundManager111001801.ins.playMusic(c.SoundName111001801.bgm_totalwin,!1),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.total_fx_main,!1);var t=this;this.obtainBtn.active=!0,this.obtainBtn.getComponent(cc.Button).enabled=!1,this.sumContainer.active=!0,this.sumSp.node.active=!0,l.Util111001801.setAniByHandle(this.sumSp,"animation",!1,null,function(){t.sumSp.node.active=!1}),cc.tween(this.obtainBtn).set({opacity:0}).delay(3).to(.4,{opacity:255}).call(function(){t.obtainBtn.getComponent(cc.Button).enabled=!0}).start(),this.scheduleOnce(function(){e.onObtainBtn()},8)},t.prototype.incBubble=function(){var e=this.bubbleList.find(function(e){return e.enableAddToContainer});if(!e){var t=cc.instantiate(this.bubbleItemPrefab),n=t.getComponent(p.BonusBubbleItem111001801);this.bubbleContainer.addChild(t),this.bubbleList.push(n),e=n}e.setStart()},t.prototype.stopAndClearBubble=function(){s.GameData111001801.bonusGameIsEnable=!1,this.bubbleList.forEach(function(e){e.clear()}),this.bubbleList=[]},t.prototype.setLabelByEnum=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=!0);var a=n?slot.SlotUtils.formatNumber(t):t+"";this.numList[e].string=a,this.numList[e].node.active=o},t.prototype.setReward=function(e,t,n){var o=this,a=l.Util111001801.converPos(t,this.rewardContainer),i=l.Util111001801.converPos(t,this.coinEffectContainer),r=this.getRewardItem(),s=r.getComponent(d.BonusBubbleRewardItem111001801),c=slot.Handler.create(this,function(){n&&n.run(),o.putRewardItem(r)});s.moveTo(e,a,this,c),0===e.rewardType&&Number(e.number)>0&&this.playCoinEffect(i),this.realTimes=this.times},t.prototype.getRewardItem=function(){var e=this.rewardItemPool.get();return e||(e=cc.instantiate(this.bubbleRewardPrefab)),this.rewardContainer.addChild(e),e},t.prototype.putRewardItem=function(e){this.rewardItemPool.put(e)},t.prototype.playCoinEffect=function(e){var t=this,n=this.rewardEffectItemPool.get();n||(n=cc.instantiate(this.coinEffectPrefab)),this.coinEffectContainer.addChild(n),n.setPosition(e);var o=n.children[0].getComponent(cc.ParticleSystem);o.resetSystem(),cc.tween(n).delay(1).call(function(){o.stopSystem()}).delay(5).call(function(){t.rewardEffectItemPool.put(n)}).start()},t.prototype.syncInfo=function(){this.setLabelByEnum(r.INFO_BALANCE_NUM,this.initBalance+this.sumRewardNum,!0),this.setLabelByEnum(r.INFO_WIN_NUM,this.sumRewardNum,!0)},t.prototype.setTopNode=function(e,t,n){void 0===t&&(t=1),cc.tween(this.topNode).set({y:e?853:523}).to(t,{y:e?523:853}).call(function(){n&&n.run()}).start()},t.prototype.playNumLight=function(e,t,n){var o=this.lights[e];if(!o)return!1;cc.tween(o).set({opacity:0,active:!0,scale:1}).to(.25,{opacity:255,scale:t/2}).to(.2,{opacity:0,scale:t}).call(function(){n&&n.run()}).set({active:!1}).start()},t.prototype.onStartBtn=function(){this.isStart||(this.isStart=!0,c.SoundManager111001801.ins.playEffect(c.SoundName111001801.ui_btn_and_bonus_click,!1),this.startHandle&&this.startHandle.run(),this.startBtn.getComponent(cc.Button).enabled=!1,l.Util111001801.fadeAni(this.startBtn,!1),l.Util111001801.fadeAni(this.descNode,!1),s.GameData111001801.bonusGameIsEnable=!0)},t.prototype.onObtainBtn=function(){game.EventManager.getInstance().raiseEvent(u.EventName.SET_STOVE_MAGIC_NUM,0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START),game.EventManager.getInstance().raiseEvent(u.EventName.SYNC_TIMES_STATE_AND_INDEX),game.EventManager.getInstance().raiseEvent(u.EventName.ENTER_BONUSGAME_BEFORE,3),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.total_fx_ending,!1),this.endHandle&&this.endHandle.run(),this.bonus.end()},i([_(cc.Node)],t.prototype,"container",void 0),i([_(cc.Node)],t.prototype,"bubbleContainer",void 0),i([_(cc.Prefab)],t.prototype,"bubbleItemPrefab",void 0),i([_(cc.Node)],t.prototype,"topNode",void 0),i([_([cc.Label])],t.prototype,"numList",void 0),i([_(cc.Node)],t.prototype,"winTitleNode",void 0),i([_({type:cc.Node,tooltip:"\u91d1\u5e01\u8df3\u52a8\u9aa8\u9abc \u8282\u70b9"})],t.prototype,"coinPopSk",void 0),i([_(cc.Node)],t.prototype,"descNode",void 0),i([_(cc.Node)],t.prototype,"startBtn",void 0),i([_(cc.Node)],t.prototype,"sumContainer",void 0),i([_(sp.Skeleton)],t.prototype,"sumSp",void 0),i([_(cc.Node)],t.prototype,"obtainBtn",void 0),i([_(cc.Node)],t.prototype,"winNode",void 0),i([_({type:cc.Node,tooltip:"\u516c\u5171\u5e93\u7684\u5206\u6570\u680f\uff08\u6b64\u5904\u4e3a\u5b50\u9879\u76ee\u81ea\u5df1\u540c\u6b65\uff09"})],t.prototype,"slotInfo",void 0),i([_({type:[cc.Node],tooltip:"\u6570\u5b57\u80cc\u540e\u5149\u6548\u8282\u70b9"})],t.prototype,"lights",void 0),i([_(cc.Node)],t.prototype,"coinEffectContainer",void 0),i([_(cc.Prefab)],t.prototype,"coinEffectPrefab",void 0),i([_(cc.Node)],t.prototype,"rewardContainer",void 0),i([_(cc.Prefab)],t.prototype,"bubbleRewardPrefab",void 0),i([m,f("game/111001801/BonusGameUIManager")],t)}(cc.Component);n.default=y,function(e){e[e.TOP_TIMES=0]="TOP_TIMES",e[e.DESC_TIMES=1]="DESC_TIMES",e[e.SUM_NUM=2]="SUM_NUM",e[e.WIN_NUM_TEXT=3]="WIN_NUM_TEXT",e[e.WIN_NUM_ANI_TEXT=4]="WIN_NUM_ANI_TEXT",e[e.INFO_BALANCE_NUM=5]="INFO_BALANCE_NUM",e[e.INFO_WIN_NUM=6]="INFO_WIN_NUM"}(r=n.BounsNumEnum||(n.BounsNumEnum={})),function(e){e[e.THANKS=0]="THANKS",e[e.OBTAIN_2_TIMES=1]="OBTAIN_2_TIMES",e[e.OBTAIN_3_TIMES=2]="OBTAIN_3_TIMES"}(n.BonusResType||(n.BonusResType={})),cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801","../base/GameData111001801":"GameData111001801","../base/SoundManager111001801":"SoundManager111001801","../base/Util111001801":"Util111001801","./BonusBubbleItem111001801":"BonusBubbleItem111001801","./BonusBubbleRewardItem111001801":"BonusBubbleRewardItem111001801"}],CommonNum111001801:[function(e,t,n){"use strict";cc._RF.push(t,"2bc28OllX9Cl54nyPb9oILu","CommonNum111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CommonNum111001801=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){this.syncRootWidth=!0},i([s,c("game/111001801/CommonNum")],t)}(slot.CommonNumAtlasBase);n.CommonNum111001801=l,cc._RF.pop()},{}],EffectManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"eb7b0x6HhNGxL4pFglpHfuW","EffectManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectManager111001801=void 0;var r=e("../../base/GameData111001801"),s=e("../../GameEventName111001801"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.magicContainer=null,t.magicEffect=null,t.magicEffectList=[],t}return a(t,e),t.prototype.onLoad=function(){this.initMagicEffects(),this.addListten(),window.EffectManager111001801=this},t.prototype.onDestroy=function(){this.removeListten(),this.removeMagicEffects()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(s.EventName.PLAY_MAGIC_EFFECT,this.playMagicEffect,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(s.EventName.PLAY_MAGIC_EFFECT,this.playMagicEffect,this)},t.prototype.initMagicEffects=function(){for(var e=0;e<6;e++){var t=cc.instantiate(this.magicEffect);t.children.forEach(function(e){e.active=!1}),this.magicContainer.addChild(t),this.magicEffectList.push(t)}},t.prototype.removeMagicEffects=function(){this.magicContainer.removeAllChildren(),this.magicEffectList=[]},t.prototype.playMagicEffect=function(e,t,n){var o=this;this.magicEffectList[t.startIndex].children.forEach(function(e,a){var i=e.getComponent(cc.Animation);t.effects.includes(a)&&(e.active=!0,i.once("finished",function(){e.active=!1,n&&n.run()}),o.setMagicNodeInfo(e,t.startIndex,t.endIndex,a),i.play())})},t.prototype.setMagicNodeInfo=function(e,t,n,o){switch(o){case 0:e.scaleY=t>n?-1.3:1.3;break;case 1:var a=r.GameData111001801.magicEffectInfo[t][n];e.scale=a.scale,e.angle=a.angle;break;default:2!=o&&5!=o&&(e.scaleX=t>n?-2.1:2.1)}},i([u({type:cc.Node,tooltip:"\u683c\u5b50\u7684\u9b54\u6cd5\u7279\u6548"})],t.prototype,"magicContainer",void 0),i([u(cc.Prefab)],t.prototype,"magicEffect",void 0),i([l,p("game/111001801/EffectManager")],t)}(cc.Component);n.EffectManager111001801=d,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801"}],ElementAniManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"4937d+1gANJsLqcil5SPb+U","ElementAniManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ElementAniEnum=n.ElementAniManager111001801=void 0;var r,s=e("../../base/SoundManager111001801"),c=e("../../GameEventName111001801"),l=e("./StoveManager111001801"),u=cc._decorator,p=u.ccclass,d=u.property,h=u.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elements=[],t.elementAnis=[],t.elementNodes=[],t.aniPos={popInPos:[{x:-230,y:-98},{x:-230,y:-315},{x:-5,y:-98},{x:-5,y:-315},{x:215,y:-98},{x:215,y:-315}],moveToPos:{x:114,y:520},dropPos:{x:114,y:400}},t.aniPrefix=["symbol_frog","symbol_spider","symbol_mushroom","symbol_potion02","symbol_potion01"],t}return a(t,e),t.prototype.onLoad=function(){this.addListten(),window.ElementAniManager111001801=this},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(c.EventName.ELEMENT_ANI_TO_STOVE,this.elementAniToStove,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(c.EventName.ELEMENT_ANI_TO_STOVE,this.elementAniToStove,this)},t.prototype.elementAniToStove=function(e,t,n,o){switch(n){case 101:this.do(t,r.FORG,o);break;case 202:this.do(t,r.SPIDER,o);break;case 303:this.do(t,r.MUSHROOM,o);break;case 404:this.do(t,r.POTION_02,o);break;case 505:this.do(t,r.POTION_01,o);break;default:o&&o.run()}},t.prototype.do=function(e,t,n){var o=this,a=this.elementNodes[e];a&&a.parent&&(a.removeFromParent(),this.elementNodes[e]=null),this.elementNodes[e]=cc.instantiate(this.elements[t]),this.elementAnis[e]=this.elementNodes[e].getComponent(cc.Animation),this.node.addChild(this.elementNodes[e]);var i=slot.Handler.create(this,function(){o.drop(e,t,n)}),r=slot.Handler.create(this,function(){o.moveTo(e,t,i)});slot.Handler.create(this,function(){o.popIn(e,t,r)}).run()},t.prototype.popIn=function(e,t,n){var o=this.aniPos.popInPos[e];this.elementNodes[e].x=o.x,this.elementNodes[e].y=o.y,this.elementAnis[e].once("finished",function(){n&&n.run()},this),this.elementAnis[e].play(this.aniPrefix[t]+"_ani_1")},t.prototype.moveTo=function(e,t,n){var o=this.aniPos.popInPos[e],a=this.aniPos.moveToPos;this.elementAnis[e].play(this.aniPrefix[t]+"_ani_2"),cc.tween(this.elementNodes[e]).set({x:o.x,y:o.y}).delay(.1).to(.25,{x:a.x,y:a.y}).call(function(){n&&n.run()}).start()},t.prototype.drop=function(e,t,n){var o=this;this.elementAnis[e].play(this.aniPrefix[t]+"_ani_3");var a=this.aniPos.moveToPos,i=this.aniPos.dropPos;cc.tween(this.elementNodes[e]).set({x:a.x,y:a.y}).to(.15,{x:i.x,y:i.y}).call(function(){o.elementNodes[e].removeFromParent(),o.elementNodes[e]=null;var t={ani:{animation:l.StoveAniName.JUMP_INTO_2,loop:!1},resumeByAfterAni:!0,checkExist:!0};s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_watersplash_general,!1),game.EventManager.getInstance().raiseEvent(c.EventName.PLAY_STOVE_ANI,t),n&&n.run()}).start()},i([d([cc.Prefab])],t.prototype,"elements",void 0),i([p,h("game/111001801/ElementAniManager")],t)}(cc.Component);n.ElementAniManager111001801=m,function(e){e[e.FORG=0]="FORG",e[e.SPIDER=1]="SPIDER",e[e.MUSHROOM=2]="MUSHROOM",e[e.POTION_02=3]="POTION_02",e[e.POTION_01=4]="POTION_01"}(r=n.ElementAniEnum||(n.ElementAniEnum={})),cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/SoundManager111001801":"SoundManager111001801","./StoveManager111001801":"StoveManager111001801"}],EliminateManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"041dbaJuoxE0LwSL1CfMJzM","EliminateManager111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.EliminateManager111001801=void 0;var o=e("../const/GameConst111001801"),a=e("../GameEventName111001801"),i=e("../roller/uiManager/StoveManager111001801"),r=e("./GameData111001801"),s=e("./SoundManager111001801"),c=e("./SubQueueManager111001801"),l=e("./Util111001801"),u=function(){function e(){}return e.resetElimate=function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,!1),this.currentEliminateIndex=0},e.processEliminate=function(e,t){var n=this;if(this.data=e,e.length>1){this._queue=[],c.SubQueueManager111001801.ins.reset(),this.data[this.data.length-2].isLast=!0,this.data[this.data.length-1].isLast=!0,this.data.forEach(function(e){var t=n.getEliminateHandle(e);c.SubQueueManager111001801.ins.pushToQueue(t),n._queue.push(t)});var o=this.getEnterBonusStep();c.SubQueueManager111001801.ins.pushToQueue(o),this._queue.push(o),c.SubQueueManager111001801.ins.pushToQueue(t),this._queue.push(t),c.SubQueueManager111001801.ins.execute(),l.Util111001801.preloadBonusPop()}else t.run()},e.getEnterBonusStep=function(){return slot.Handler.create(this,this.setEnterHandle)},e.setEnterHandle=function(e){var t=this;if(slot.SpinManager.instance.rollingResult.nextState){var n=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(a.EventName.ENTER_BONUSGAME_BEFORE,2,e)});slot.Handler.create(this,function(){var e=slot.Handler.create(t,function(){game.EventManager.getInstance().raiseEvent(a.EventName.ENTER_BONUSGAME_BEFORE,1,n)});i.StoveManager111001801.ins.playBoom(e)}).run()}else e.run()},e.getEliminateHandle=function(e){return slot.Handler.create(this,this.setSlotItemEliminate,[e])},e.setSlotItemEliminate=function(e,t){if(!e.removePos||e.removePos.length<=0)t.run(),this.endHandle=null;else{var n=this;this.endHandle=t;var o=slot.Handler.create(this,function(){});e.magicCrushList.forEach(function(t,a){setTimeout(function(){n.compose(a,e,o)},100*a)}),1===e.magicCrushList.length&&setTimeout(function(){s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_reel_single_count,!1)},700)}},e.compose=function(e,t,n){var o=this;this.stepHandels={};var i=slot.Handler.create(this,function(){o.incStepData("compose"),o.summon(e,t,n)}),s=this.magicData[e],c=slot.SlotMachineView.instance.scroller.renders[s.pos-1];c.playAni(c.data),setTimeout(function(){i.run()},c.data<600?700:1e3),setTimeout(function(){c.display.setContentState(!1,!0)},c.data<600?400:700),setTimeout(function(){c.playSummonAni()},100);var l=r.GameData111001801.getWinNum(c.data);game.EventManager.getInstance().raiseEvent(a.EventName.SET_OBTAIN_NUM_POPIN,s.pos-1,l)},e.summon=function(e,t,n){var o=this;this.stepHandels.summon||(this.stepHandels.summon=[]);var i=this.magicData[e],r=slot.Handler.create(this,function(){var a=o.stepHandels.summon.length<i.crushPos.length;if(o.stepHandels.summon.push(slot.Handler.create(o,function(){o.release(e,t,a?n:null)})),o.incStepData("summon"),o.checkStep("summon"))do{o.stepHandels.summon.shift().run()}while(o.stepHandels.summon.length>0)}),s=t.spinResult.grid[i.pos-1];game.EventManager.getInstance().raiseEvent(a.EventName.ELEMENT_ANI_TO_STOVE,i.pos-1,s,r)},e.release=function(e,t,n){var o=this;this.stepHandels.release||(this.stepHandels.release=[]);var a=this.magicData[e],i=slot.SlotMachineView.instance.scroller.renders[a.pos-1],r=slot.Handler.create(this,function(){var i=o.stepHandels.release.length<a.crushPos.length;if(o.stepHandels.release.push(slot.Handler.create(o,function(){o.hit(e,t,i?n:null)})),o.incStepData("release"),o.checkStep("release"))do{o.stepHandels.release.shift().run()}while(o.stepHandels.release.length>0)});i.playMagic(a.magicId,a,r)},e.hit=function(e,t,n){var o=this;this.stepHandels.hit||(this.stepHandels.hit=[]);var a=this.magicData[e],i=slot.SlotMachineView.instance.scroller.renders[a.pos-1],r=slot.Handler.create(this,function(){var i=o.stepHandels.hit.length<a.crushPos.length;if(o.stepHandels.hit.push(slot.Handler.create(o,function(){o.generate(e,t,i?n:null)})),o.incStepData("hit"),o.checkStep("hit"))do{o.stepHandels.hit.shift().run()}while(o.stepHandels.hit.length>0)});i.magicDoing(a.magicId,a,r)},e.generate=function(e,t,n){var o=this;this.stepHandels.generate||(this.stepHandels.generate=[]);var a=this.magicData[e],i=slot.Handler.create(this,function(){var i=o.stepHandels.generate.length<a.crushPos.length;if(o.stepHandels.generate.push(slot.Handler.create(o,function(){o.win(e,t,i?n:null)})),o.incStepData("generate"),o.checkStep("generate"))do{o.stepHandels.generate.shift().run()}while(o.stepHandels.generate.length>0)}),r=slot.SlotMachineView.instance.scroller.renders,s=a.crushPos.filter(function(e){return!t.removePos.includes(e)});s.length>0?s.forEach(function(e,n){r[e-1].generateBookAni(.1*n,t.spinResult.gridChanged[e-1],i)}):i.run()},e.win=function(e,t,n){var i=this;this.stepHandels.win||(this.stepHandels.win=[]);var s=slot.Handler.create(this,function(){i.end(e,t,n)}),c=this.magicData[e],l=slot.Handler.create(this,function(){i.incStepData("win"),i.checkStep("win")?game.EventManager.getInstance().raiseEvent(a.EventName.SET_WIN_COIN_NUM,{num:r.GameData111001801.converToNumber(t.spinResult.spinCoin),balance:t.balance,inc:!0},s):s.run()}),u=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(a.EventName.SET_OBTAIN_NUM_AFTER_TIMES,c.pos-1,t.rate,l)});game.EventManager.getInstance().raiseEvent(a.EventName.SET_TIMES_STATE_AND_INDEX,t.rate-1,[o.TimesState.OBTAIN,o.TimesState.USE],u)},e.end=function(e,t,n){var i=this,r=slot.Handler.create(this,function(){var e=slot.Handler.create(i,function(){i.incStepData("end"),i.checkStep("end")&&(i.currentEliminateIndex++,i.resetStepData(),n&&n.run(),i.endHandle.run())});t.isLast||5===t.rate&&5===t.crushRate?e.run():game.EventManager.getInstance().raiseEvent(a.EventName.SET_TIMES_STATE_AND_INDEX,t.crushRate-1,[o.TimesState.NORMAL,o.TimesState.OBTAIN],e)}),s=this.magicData[e];slot.SlotMachineView.instance.scroller.renders[s.pos-1].generateBookAni(0,t.spinResult.gridChanged[t.removePos[e]-1],r,!0)},e.resetStepData=function(){this.stepData={compose:0,summon:0,release:0,hit:0,generate:0,win:0,end:0}},e.incStepData=function(e){this.stepData[e]=this.stepData[e]+1},e.checkStep=function(e){return this.stepData[e]>=this.magicData.length},Object.defineProperty(e,"magicData",{get:function(){return this.data[this.currentEliminateIndex].magicCrushList},enumerable:!1,configurable:!0}),e.data=[],e.currentEliminateIndex=0,e.stepData={compose:0,summon:0,release:0,hit:0,generate:0,win:0,end:0},e.stepHandels={},e._queue=[],e.endHandle=null,e}();n.EliminateManager111001801=u,window.EliminateManager111001801=u,cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801","../const/GameConst111001801":"GameConst111001801","../roller/uiManager/StoveManager111001801":"StoveManager111001801","./GameData111001801":"GameData111001801","./SoundManager111001801":"SoundManager111001801","./SubQueueManager111001801":"SubQueueManager111001801","./Util111001801":"Util111001801"}],GData111001801:[function(e,t,n){"use strict";cc._RF.push(t,"6672cKJVndMX7R4DXFGJ0D8","GData111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.GData111001801=void 0;var o=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initSpinElementResConfig()},e.prototype.initSpinElementResConfig=function(){for(var e={},t=["","frog_left","spider_left","mushroom_left","potion02_left","potion01_left","lowpayout1_left","lowpayout5_left","lowpayout2_left","lowpayout3_left","lowpayout4_left","special_left"],n=["","frog_right","spider_right","mushroom_right","potion02_right","potion01_right","lowpayout1_right","lowpayout5_right","lowpayout2_right","lowpayout3_right","lowpayout4_right","special_right"],o=1;o<=11;o++)for(var a=1;a<=11;a++){var i=this.defaultElementConf;i.normalImage=t[o],i.blurImage=n[o],i.left_icon=t[o],i.right_icon=n[a],e[""+(100*o+a)]=i}slot.GData.mergeParameters.spinElementResConfig.spinElementResConfig=e},e.prototype.getEelementConfByData=function(e){var t=slot.GData.getParameter("spinElementResConfig");return t&&t.spinElementResConfig&&t.spinElementResConfig[""+e]},Object.defineProperty(e.prototype,"defaultElementConf",{get:function(){return{normalImage:"",normalImageScale:1,blurImage:"",blurImageScale:1,fadeImage:"",fadeImageScale:"",skeletonUrl:"",frameClipUrl:"",premultipliedAlpha:"",dragonAssetUrl:"",dragonAssetAtlasUrl:"",dragonArmature:"",left_icon:"",right_icon:""}},enumerable:!1,configurable:!0}),e._ins=null,e}();n.GData111001801=o,window.GData111001801=o,cc._RF.pop()},{}],GameBg111001801:[function(e,t,n){"use strict";cc._RF.push(t,"c8514gvwOZBvKfkFCiX6q2/","GameBg111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){},t.prototype.layoutPortrait=function(){},i([s,c("game/111001801/GameBg")],t)}(slot.BaseView);n.default=l,cc._RF.pop()},{}],GameConfig111001801:[function(e,t,n){"use strict";cc._RF.push(t,"741fa08wKRBd4DVzhIOQZtw","GameConfig111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig111001801=void 0;var o=function(){function e(){}return Object.defineProperty(e,"conf",{get:function(){return this._conf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_conf",{get:function(){return slot.GData.getParameter("eliminateSub").eliminateSub},enumerable:!1,configurable:!0}),e.speed=1,e}();n.GameConfig111001801=o,window.GameConfig111001801=o,cc._RF.pop()},{}],GameConst111001801:[function(e,t,n){"use strict";cc._RF.push(t,"b807eTd5KxKK6E6fJ/O45zM","GameConst111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.EliminateType=n.TimesState=void 0,function(e){e[e.NORMAL=0]="NORMAL",e[e.USE=1]="USE",e[e.OBTAIN=2]="OBTAIN"}(n.TimesState||(n.TimesState={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.WATER=1]="WATER",e[e.FIRE=2]="FIRE",e[e.THUNDER=3]="THUNDER"}(n.EliminateType||(n.EliminateType={})),cc._RF.pop()},{}],GameData111001801:[function(e,t,n){"use strict";cc._RF.push(t,"b456auflqBPaq/PLUFLvWC0","GameData111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameData111001801=void 0;var o=e("./SlotItemDisplay111001801"),a=function(){function e(){}return e.enableSummon=function(e){return[101,202,303,404,505].includes(e)},e.getRateIndex=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=4),Math.min(n,Math.max(t,e-1))},e.converToNumber=function(e){return"number"==typeof e?e:Number(e)},Object.defineProperty(e,"currentSumCoin",{get:function(){return slot.BonusGameManager.instance.bonusGameInfo&&0|slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin},enumerable:!1,configurable:!0}),Object.defineProperty(e,"diiffWin",{get:function(){var e=Number(slot.SpinManager.instance.spinWin);if(e<=0)return 0;var t=slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList,n=Number(t[t.length-1].balance),o=Number(slot.PlayerManager.instance.showCoin);return o===n?e:o-n},enumerable:!1,configurable:!0}),Object.defineProperty(e,"lastResult",{get:function(){var e=slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList;return e[e.length-1]},enumerable:!1,configurable:!0}),e.getWinNum=function(e,t){if(void 0===t&&(t=1),!this.eliminateList.includes(e))return 0;var n=slot.GData.getParameter("DataDataSlotElementReward").data["2&4&1&0&"+e+"&1"].rate;return slot.SpinManager.instance.betCost/6*n*t},e.slotAniList={101:{index:o.BookSpineIndex.WIN_1_5,ani:"icon_frog"},202:{index:o.BookSpineIndex.WIN_1_5,ani:"icon_spider"},303:{index:o.BookSpineIndex.WIN_1_5,ani:"icon_mushroom"},404:{index:o.BookSpineIndex.WIN_1_5,ani:"icon_potionBlue"},505:{index:o.BookSpineIndex.WIN_1_5,ani:"icon_potionGreen"},606:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_red"},707:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_purple"},808:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_blue"},909:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_gray"},1010:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_green"},1111:{index:o.BookSpineIndex.WIN_6_11,ani:"icon_special"}},e.eliminateList=[101,202,303,404,505,606,707,808,909,1010,1111],e.specialEliminateList=[101,202,303,404,505],e.magicEffectInfo=[[{},{scale:1.7,angle:0},{scale:1.7,angle:90},{scale:2.2,angle:45},{scale:3.2,angle:90},{scale:3.5,angle:65}],[{scale:1.7,angle:180},{},{scale:2.2,angle:135},{scale:1.7,angle:90},{scale:3.5,angle:115},{scale:3.2,angle:90}],[{scale:1.7,angle:-90},{scale:2.2,angle:-45},{},{scale:1.7,angle:0},{scale:1.7,angle:90},{scale:2.2,angle:45}],[{scale:2.2,angle:-135},{scale:1.7,angle:-90},{scale:1.7,angle:180},{},{scale:2.2,angle:135},{scale:1.7,angle:90}],[{scale:3.2,angle:-90},{scale:3.5,angle:-65},{scale:1.7,angle:-90},{scale:2.2,angle:-45},{},{scale:1.7,angle:0}],[{scale:3.5,angle:-115},{scale:3.2,angle:-90},{scale:2.2,angle:-135},{scale:1.7,angle:-90},{scale:1.7,angle:180},{}]],e.bonusRewardPos=[{x:0,y:430},{x:0,y:-500}],e.IsEnterGame=!1,e.bonusGameIsEnable=!1,e.bonusHandler=null,e.roleNormalSoundInterval=0,e.roleNormalSoundIntervalState=!0,e.inEliminate=!1,e.jtOverHandle=null,e.isBonusBackToSyncScore=!1,e.beginHandels=[],e}();n.GameData111001801=a,window.GameData111001801=a,cc._RF.pop()},{"./SlotItemDisplay111001801":"SlotItemDisplay111001801"}],GameEvent111001801:[function(e,t){"use strict";cc._RF.push(t,"bfd425iW11I2aFnAF2pzVSN","GameEvent111001801"),cc._RF.pop()},{}],GameEventName111001801:[function(e,t,n){"use strict";var o;cc._RF.push(t,"df14enOLOlMS6eb38jOqVb+","GameEventName111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.SET_ROLE_STATE="SET_ROLE_STATE",e.SET_TIMES_STATE_AND_INDEX="SET_TIMES_STATE_AND_INDEX",e.RESET_TIMES_INDEX="RESET_TIMES_INDEX",e.SYNC_TIMES_STATE_AND_INDEX="SYNC_TIMES_STATE_AND_INDEX",e.SET_OBTAIN_NUM_POPIN="SET_OBTAIN_NUM_POPIN",e.SET_OBTAIN_NUM_UPWARD="SET_OBTAIN_NUM_UPWARD",e.SET_OBTAIN_NUM_AFTER_TIMES="SET_OBTAIN_NUM_AFTER_TIMES",e.ELEMENT_ANI_TO_STOVE="ELEMENT_ANI_TO_STOVE",e.PLAY_STOVE_ANI="PLAY_STOVE_ANI",e.RESET_STOVE_ANI="RESET_STOVE_ANI",e.ENTER_BONUSGAME_BEFORE="ENTER_BONUSGAME_BEFORE",e.SET_STOVE_MAGIC_NUM="SET_STOVE_MAGIC_NUM",e.PLAY_MAGIC_EFFECT="PLAY_MAGIC_EFFECT",e.SET_WIN_COIN_NUM="SET_WIN_COIN_NUM",e.BONUS_BUBBLE_ITEM_CLICK="BONUS_BUBBLE_ITEM_CLICK",e.BONUS_BACK_HOME="BONUS_BACK_HOME",e.SUB_SET_SPIN_BTN_ROTATE="SUB_SET_SPIN_BTN_ROTATE",e.BOUNDGAME_STATR="BOUNDGAME_STATR"}(o=n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),window.EventName=o,cc._RF.pop()},{}],GameInterface111001801:[function(e,t,n){"use strict";cc._RF.push(t,"4e233JNUeJB64DHXaFpCZkn","GameInterface111001801"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],GameLayer111001801:[function(e,t,n){"use strict";cc._RF.push(t,"78eedZtep1KSJF2IHebNBtL","GameLayer111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../base/GameData111001801"),s=e("../../base/SoundManager111001801"),c=e("../../GameEventName111001801"),l=e("../scrollerSkins/JTBegin111001801"),u=e("../scrollerSkins/JTChildManager111001801"),p=e("../scrollerSkins/JTLayerManager111001801"),d=e("../scrollerSkins/JTOver111001801"),h=e("../scrollerSkins/JTRun111001801"),m=e("../scrollerSkins/JTScrollingPipeline111001801"),f=e("./JTCreateScrolling111001801"),_=cc._decorator,y=_.ccclass,g=(_.property,_.menu),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scatterTask=null,t.wildTask=null,t.scroller=null,t._spinAniViews=[],t}var n;return a(t,e),n=t,t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this)},t.prototype.onDestroy=function(){this.dispose()},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this.initSlotMachineView(),slot.SpinManager.customResultCallBack=function(){return cc.log("\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7ed3\u679c\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList),slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList}},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinScore,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ROLL_RESULT_RESP,this._onRollingResp,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinScore,this)},t.prototype._onRollingResp=function(){},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new p.default,new u.default);var o=t.options(m.default,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);o.childOption(f.JTCreateScrolling111001801,slot.JTOptionType.OPTION_CREATE),o.childOption(l.default,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),o.childOption(h.default,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),o.childOption(d.default,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1)},t.prototype._stopImmediatly=function(){e.prototype._stopImmediatly.call(this)},t.prototype.initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.8,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=10,this.slotMachine.spaceY=80,this.slotMachine.gridWidth=213,this.slotMachine.gridHeight=140,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,game.EventManager.getInstance().raiseEvent(c.EventName.SYNC_TIMES_STATE_AND_INDEX)},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){},t.prototype._onSpinBegin=function(){n.isAutoStartBonuGame=!1},t.prototype._onSpinStop=function(){},t.prototype._onSpinStart=function(){this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype.refreshRoom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log("\u91cd\u8fde"+e)},t.prototype._playNormalRewardsAnimation=function(e,t){t&&t.run(),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.fiveEven),t&&t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){t&&t.run()},t.prototype._playMiddleRewardsAnimation=function(e,t){t&&t.run()},t.prototype._playSmallRewardsAnimation=function(e,t){t&&t.run()},t.prototype._onSpinSlotRender=function(){},t.prototype.updateWinScore=function(e,t,n,o,a,i,s,l){if(void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===i&&(i=null),void 0===s&&(s=!0),void 0===l&&(l=!0),r.GameData111001801.isBonusBackToSyncScore){var u=slot.PlayerManager.instance.showCoin;game.EventManager.getInstance().raiseEvent(c.EventName.SET_WIN_COIN_NUM,{num:t,balance:u,inc:!1,isTotal:!0}),r.GameData111001801.isBonusBackToSyncScore=!1}game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,t)},t.prototype.onBonusGameTriggered=function(e,t){t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.onCloseLoadingViemListen=function(){slot.BonusGameManager.instance.hasBonusGame?s.SoundManager111001801.ins.playMusic(s.SoundName111001801.Bonus_Back_Music,!0):s.SoundManager111001801.ins.playMusic(s.SoundName111001801.Game_Back_Music,!0)},t.isAutoStartBonuGame=!0,n=i([y,g("game/111001801/GameLayer")],t)}(slot.AbstractMainView);n.default=v,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/SoundManager111001801":"SoundManager111001801","../scrollerSkins/JTBegin111001801":"JTBegin111001801","../scrollerSkins/JTChildManager111001801":"JTChildManager111001801","../scrollerSkins/JTLayerManager111001801":"JTLayerManager111001801","../scrollerSkins/JTOver111001801":"JTOver111001801","../scrollerSkins/JTRun111001801":"JTRun111001801","../scrollerSkins/JTScrollingPipeline111001801":"JTScrollingPipeline111001801","./JTCreateScrolling111001801":"JTCreateScrolling111001801"}],GameLayerSubManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"df2c4XhoblBBorzaCvfZPTN","GameLayerSubManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLayerSubManager111001801=void 0;var r=e("../../base/GameData111001801"),s=e("../../base/SoundManager111001801"),c=e("../../GameEventName111001801"),l=e("./RoleManager111001801"),u=e("./SpinBtnManager111001801"),p=cc._decorator,d=p.ccclass,h=p.property,m=p.menu,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.maskNode=null,t.enterBonusSp=null,t.spinBtnBg=null,t.enterSpText=null,t.startsAni=[],t.orgScale=1,t}return a(t,e),t.prototype.onLoad=function(){this.addListten(),this.initLayer(),window.GameLayerSubManager111001801=this},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterGame,this),game.EventManager.getInstance().addEventListener(c.EventName.ENTER_BONUSGAME_BEFORE,this.enterBoundsGameBefore,this),game.EventManager.getInstance().addEventListener(c.EventName.BONUS_BACK_HOME,this.enterAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.immediatelyEvent,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterGame,this),game.EventManager.getInstance().removeEventListener(c.EventName.ENTER_BONUSGAME_BEFORE,this.enterBoundsGameBefore,this),game.EventManager.getInstance().removeEventListener(c.EventName.BONUS_BACK_HOME,this.enterAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.immediatelyEvent,this)},t.prototype.initLayer=function(){this.maskNode.removeFromParent(),cc.Canvas.instance.node.addChild(this.maskNode,slot.LayerManage.bonus),this.enterBonusSp.node.removeFromParent(),cc.Canvas.instance.node.addChild(this.enterBonusSp.node,slot.LayerManage.bonus)},t.prototype.OnEnterGame=function(){var e,t;slot.SpinManager.instance.stopImme=!1,r.GameData111001801.IsEnterGame=!0,slot.GameControlBase.instance.setBtn.y=-70,slot.GameControlBase.instance.betBtn.y=-70,slot.GameControlBase.instance.backBtn.y=-90;var n=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.SUB_SET_SPIN_BTN_ROTATE,u.SpinRotateState.START),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,!0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_OPACITY,!0)});game.EventManager.getInstance().raiseEvent(c.EventName.SET_ROLE_STATE,l.RoleAni111001801.GREETINGS,!0,!1,null,n),setTimeout(function(){slot.BonusGameManager.instance.bonusGameInfo||s.SoundManager111001801.ins.playEffect(s.SoundName111001801.vox_intro_hi_random,!1)},20),game.EventManager.getInstance().raiseEvent(c.EventName.SUB_SET_SPIN_BTN_ROTATE,u.SpinRotateState.STOP),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_OPACITY,!1),this.enterAni(),r.GameData111001801.bonusHandler&&r.GameData111001801.bonusHandler.run(),this.enterSound();var o=null===(t=null===(e=slot.SpinManager.instance.customUpdateData)||void 0===e?void 0:e.game_1110018)||void 0===t?void 0:t.data;if(o&&o.resultList&&o.resultList.length>1){var a=0;o.resultList.slice(0,Math.max(1,o.resultList.length-1)).forEach(function(e){a+=e.spinResult.grid.filter(function(e){return 1111===e}).length}),a<=2&&game.EventManager.getInstance().raiseEvent(c.EventName.SET_STOVE_MAGIC_NUM,a,!1)}setTimeout(function(){s.SoundManager111001801.ins.playEffect(s.SoundName111001801.bgm_bubble_layer_loop,!0)},10);var i=slot.SpinManager.instance.rollingResult,p=i.spinResult.spinCoin,d=i.spinResult.lgCoin;Number(d)>0&&(p=d),Number(p)>0&&game.EventManager.getInstance().raiseEvent(c.EventName.SET_WIN_COIN_NUM,{num:r.GameData111001801.converToNumber(p),inc:!1,isTotal:!1})},t.prototype.enterAni=function(e,t,n,o){void 0===t&&(t=.15),void 0===n&&(n=.6),cc.tween(this.container).set({scale:1.3,y:-30}).delay(t).to(n,{scale:1,y:0}).start(),cc.tween(this.maskNode).set({opacity:255}).delay(t).to(n,{opacity:0}).call(function(){o&&o.run()}).start()},t.prototype.enterSound=function(){},t.prototype.enterBoundsGameBefore=function(e,t,n){var o=this;switch(t){case 1:cc.tween(this.container).to(.1,{x:-7,y:-7}).to(.1,{x:7,y:7}).to(.1,{x:-7,y:-7}).to(.1,{x:0,y:0}).call(function(){n&&n.run()}).start();break;case 2:cc.tween(this.container).set({scale:1,x:0,y:0}).to(.3,{scale:1.35,x:-90,y:-190}).call(function(){o.enterBonusSp.node.active=!0,o.enterBonusSp.timeScale=1,o.enterBonusSp.setAnimation(0,"in",!1),o.scheduleOnce(function(){o.enterBonusSp.setAnimation(0,"Static",!1),o.showStartsAni(),n&&n.run()},.8),o.scheduleOnce(function(){o.container.scale=1,o.container.x=0,o.container.y=0,o.hideStartsAni(),cc.tween(o.enterSpText).to(.5,{opacity:0}).delay(1).call(function(){game.EventManager.getInstance().raiseEvent(c.EventName.BOUNDGAME_STATR)}).start(),o.enterBonusSp.timeScale=.5,o.enterBonusSp.setAnimation(0,"out",!1),o.enterBonusSp.setCompleteListener(function(){"out"==o.enterBonusSp.animation&&(o.enterBonusSp.node.active=!1),o.enterBonusSp.setCompleteListener(null)})},4),s.SoundManager111001801.ins.playMusic(s.SoundName111001801.bgm_bonus_trans_loop,!0)}).start(),cc.tween(this.enterSpText).set({opacity:0}).delay(.7).to(.3,{opacity:255}).start(),slot.MainView.instance.getNode("menu").opacity=0,slot.MainView.instance.getNode("gameControl").opacity=0,slot.MainView.instance.getNode("score").opacity=0;break;case 3:slot.MainView.instance.getNode("menu").opacity=255,slot.MainView.instance.getNode("gameControl").opacity=255,slot.MainView.instance.getNode("score").opacity=255,s.SoundManager111001801.ins.playMusic(s.SoundName111001801.bgm_mg_intro,!1,!0)}},t.prototype.immediatelyEvent=function(){},t.prototype.showStartsAni=function(){for(var e=function(e){var n=t.startsAni[e],o=n.scale;t.orgScale=o,cc.Tween.stopAllByTarget(n);var a=cc.tween(n).set({opacity:0}).to(.3*e,{opacity:255}).start(),i=cc.tween(n).to(.5,{scale:t.orgScale-.6}).to(.5,{scale:t.orgScale}).union().repeatForever();a.call(function(){i.start()}).start()},t=this,n=0;n<this.startsAni.length;n++)e(n)},t.prototype.hideStartsAni=function(){for(var e=this,t=function(t){var o=n.startsAni[t];cc.tween(o).to(.5,{opacity:0}).call(function(){o.scale=e.orgScale,cc.Tween.stopAllByTarget(o)}).start()},n=this,o=0;o<this.startsAni.length;o++)t(o)},i([h(cc.Node)],t.prototype,"container",void 0),i([h(cc.Node)],t.prototype,"maskNode",void 0),i([h(sp.Skeleton)],t.prototype,"enterBonusSp",void 0),i([h(cc.Node)],t.prototype,"spinBtnBg",void 0),i([h(cc.Node)],t.prototype,"enterSpText",void 0),i([h(cc.Node)],t.prototype,"startsAni",void 0),i([d,m("game/111001801/GameLayerSubManager")],t)}(cc.Component);n.GameLayerSubManager111001801=f,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/SoundManager111001801":"SoundManager111001801","./RoleManager111001801":"RoleManager111001801","./SpinBtnManager111001801":"SpinBtnManager111001801"}],JTBegin111001801:[function(e,t,n){"use strict";cc._RF.push(t,"c9744l1l4tJYoDGOFHNij1v","JTBegin111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/GameData111001801"),r=e("../../base/SoundManager111001801"),s=e("../../GameEventName111001801"),c=e("../uiManager/SpinBtnManager111001801"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.beginRunning=function(){this._scroller.isRunning=!0,this.beginStart()},t.prototype.beginStart=function(){this._scroller.renders.forEach(function(e){e.startRun()}),this.beginFun()},t.prototype.beginFun=function(){slot.SpinManager.instance.stopImme=!1,i.GameData111001801.roleNormalSoundInterval=0,setTimeout(function(){r.SoundManager111001801.ins.playEffect(r.SoundName111001801.Reel_Spin_Sub,!1)},10),game.EventManager.getInstance().raiseEvent(s.EventName.SET_STOVE_MAGIC_NUM,0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START),game.EventManager.getInstance().raiseEvent(s.EventName.RESET_TIMES_INDEX),this.resetBanner(),game.EventManager.getInstance().raiseEvent(s.EventName.SUB_SET_SPIN_BTN_ROTATE,c.SpinRotateState.ACCELERATE)},t.prototype.resetBanner=function(){2==this.scroller.index&&game.EventManager.getInstance().raiseEvent(s.EventName.SET_WIN_COIN_NUM),this.complete()},t}(slot.JTBeginRunning);n.default=l,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/SoundManager111001801":"SoundManager111001801","../uiManager/SpinBtnManager111001801":"SpinBtnManager111001801"}],JTChildManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"7bc54W9hWRMHpCe80AJJx2c","JTChildManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../uiManager/SpinSlotView111001801"),r=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,i.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../uiManager/SpinSlotView111001801":"SpinSlotView111001801"}],JTCreateScrolling111001801:[function(e,t,n){"use strict";cc._RF.push(t,"cdbb0kGV31BgblCtAzRWYag","JTCreateScrolling111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTCreateScrolling111001801=void 0;var i=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,o=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);if(o&&(o.width=e.width,o.height=e.height),n.orientation==slot.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);for(var a=0;a<n.row+2;a++)(i=this.getObject(slot.JTChildFactory.ITEMRENDER_TYPE,e)).y=-(a-1)*n.gapHeight-n.girdHeight/2,i.x=n.girdWidth/2,(r=new slot.JTLayoutPoint).landscapeX=n.girdWidth/2,r.landscapeY=-(a-1)*(n.girdHeight+n.gapYLandscape)-n.girdHeight/2,r.portraitX=n.girdWidth/2,r.portraitY=-(a-1)*(n.girdHeight+n.gapYPortrait)-n.girdHeight/2,i.data=this.changedDataList[a],i.width=n.girdWidth,i.height=n.girdHeight,e.addChildItem(i),a>0&&a<n.row+1?this.setupRender(i,r):i.active=!1,i.data=this.changedDataList[a]}else for(this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight)),a=0;a<n.row+2;a++){var i,r;(i=this.getObject(slot.JTChildFactory.ITEMRENDER_TYPE,e)).x=a*n.gapWidth-n.girdWidth/2,i.y=-n.girdHeight/2,i.width=n.girdWidth,i.height=n.girdHeight,(r=new slot.JTLayoutPoint).landscapeX=a*(n.gapXLandscape+n.girdWidth)-n.girdWidth/2,r.landscapeY=-n.girdHeight/2,r.portraitX=a*(n.gapXPortrait+n.girdWidth)-n.girdWidth/2,r.portraitY=-n.girdHeight/2,e.addChildItem(i),a>0&&a<n.row+1?this.setupRender(i,r):i.active=!1,i.data=this.changedDataList[a]}e.sortItemszIndex(),this._dataProvider.grids.dataList=this.dataList,this.complete()},t.prototype.destroy=function(){for(var e=this._scroller,t=e.items.length,n=0;n<t;n++)e.items.shift().removeFromParent(),slot.JTLogger.info("remove :  "+n,"scroller index:  "+e.index);var o=this._owner;return o.items=[],o.renders=[],!0},t}(slot.JTCreate);n.JTCreateScrolling111001801=i,cc._RF.pop()},{}],JTLayerManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"37fe4Gnh2lMoqzQnKvTXb93","JTLayerManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.initialize=function(e){slot.JTLayerFactory,this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.FRONT_FRAME_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.FLASH_LINE_CONTAINER,e),this.wildContainer=this.addChildNode(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e)},t.prototype.updateLayer=function(){},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.FLASH_LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.FRONT_FRAME_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_MASK_TYPE,slot.JTLineMask),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this},t}(slot.JTLayerFactory);n.default=i,cc._RF.pop()},{}],JTOver111001801:[function(e,t,n){"use strict";cc._RF.push(t,"7c87bJMNzlOBrcbE9VcCZF/","JTOver111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/EliminateManager111001801"),r=e("../../base/GameData111001801"),s=e("../../GameEventName111001801"),c=e("../uiManager/SpinBtnManager111001801"),l=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.overRunning=function(){var e=this;this.owner.lineTimeComplete();for(var t=this.owner.owner.owner.items,n=0,o=0;o<t.length;o++)t[o].pipeline.getCurrentTask()&&n++;var a=slot.SpinManager.instance.isInTurbo?0:.08,i=slot.SpinManager.instance.isInTurbo?0:2*a;if(this.stopRun(i*this._index,a),1==n){var l=slot.PlayerManager.instance.showCoin>=slot.SpinManager.instance.betCost,u=slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList.length>1&&l;r.GameData111001801.jtOverHandle=slot.Handler.create(this,function(){u?(game.EventManager.getInstance().raiseEvent(s.EventName.SUB_SET_SPIN_BTN_ROTATE,c.SpinRotateState.STOP),e.eliminate()):e.resumeSpin(1)}),setTimeout(function(){r.GameData111001801.jtOverHandle.run()},3*i)}else this.complete()},t.prototype.eliminate=function(){var e=this,t=slot.Handler.create(this,function(){e.resumeSpin(0)});i.EliminateManager111001801.resetElimate(),cc.tween(this).delay(.5).call(function(){i.EliminateManager111001801.processEliminate(slot.SpinManager.instance.customUpdateData.game_1110018.data.resultList,t)}).start()},t.prototype.stopRun=function(e,t){this._scroller.renders.forEach(function(n,o){n.stopRun(null,e+o*t)})},t.prototype.resumeSpin=function(e){var t=this;setTimeout(function(){game.EventManager.getInstance().raiseEvent(s.EventName.SUB_SET_SPIN_BTN_ROTATE,c.SpinRotateState.START),t.complete()},1e3*e)},t}(slot.JTOverRunning);n.default=l,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/EliminateManager111001801":"EliminateManager111001801","../../base/GameData111001801":"GameData111001801","../uiManager/SpinBtnManager111001801":"SpinBtnManager111001801"}],JTRun111001801:[function(e,t,n){"use strict";cc._RF.push(t,"1314f+GNJBBsZ8fCNHJo/in","JTRun111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.clear=function(){clearTimeout(this.id)},t.prototype.dataStandby=function(){e.prototype.dataStandby.call(this),this.running()},t.prototype.running=function(){var e=this;if(this.isDataReady){var t=slot.SpinManager.instance.isInTurbo?150:400;this.id=setTimeout(function(){e.complete()},t)}},t}(slot.JTRunning);n.default=i,cc._RF.pop()},{}],JTScrollingPipeline111001801:[function(e,t,n){"use strict";cc._RF.push(t,"1b4dbGJEnlOe711aS2BBiS+","JTScrollingPipeline111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.updateRenders=function(){console.log("updaterenders"),e.prototype.lineTimeComplete.call(this);for(var t=this._scroller,n=0;n<t.renders.length;n++){var o=t.renders[n];o.stopAllActions(),o.scale=1}},t.prototype.updateRenderData=function(){for(var e=this._scroller,t=0;t<e.items.length;t++){var n=e.items[t];n.data=n.changedData}},i([s],t)}(slot.JTScrollingPipeline));n.default=c,cc._RF.pop()},{}],LanguageInfoBase111001801:[function(e,t,n){"use strict";cc._RF.push(t,"054c15Pf6NHr6acS1WVGfVk","LanguageInfoBase111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageInfoBase111001801=void 0;var r=cc._decorator,s=r.ccclass,c=r.menu,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),i([s,c("game/111001801/LanguageInfoBase")],t)}(slot.LanguageInfoBase);n.LanguageInfoBase111001801=l,cc._RF.pop()},{}],LanguangeCompSlot111001801:[function(e,t,n){"use strict";cc._RF.push(t,"888cc0+yIhPxaXN6FAHalFs","LanguangeCompSlot111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.LanguangeCompSlot111001801=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),i([s,c("game/111001801/LanguangeCompSlot")],t)}(slot.LanguangeCompSlot);n.LanguangeCompSlot111001801=l,cc._RF.pop()},{}],Main111001801:[function(e,t,n){"use strict";cc._RF.push(t,"9a187t+tydIMpTh2mmkYmse","Main111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/GData111001801"),s=e("../base/Util111001801"),c=cc._decorator,l=c.ccclass,u=c.menu,p=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slotItem=null,t}var n;return a(t,e),n=t,t.prototype.onLoad=function(){e.prototype.onLoad.call(this),n.slot_item_prefab=this.slotItem,s.Util111001801.preloadBonusPop(!0),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),window.Main111001801=this},t.prototype.initView=function(){r.GData111001801.ins.init(),e.prototype.initView.call(this)},t.slot_item_prefab=null,i([p(cc.Prefab)],t.prototype,"slotItem",void 0),n=i([l,u("game/111001801/Main")],t)}(slot.MainView);n.default=d,cc._RF.pop()},{"../base/GData111001801":"GData111001801","../base/Util111001801":"Util111001801"}],MultiPSRandomRefresh111001801:[function(e,t,n){"use strict";cc._RF.push(t,"73b74JogF5AHau4W46tbB4p","MultiPSRandomRefresh111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.psNodeNum=5,t.emissionRate=10,t.psIndexArray=[],t.psArray=[],t.count=0,t.spriteArray=[],t}return a(t,e),t.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var e=Math.round(Math.random()*this.count);for(this.psIndexArray.push(e);this.psArray.length<this.psNodeNum;){var t=cc.instantiate(this.psArray[0].node);t.parent=this.psArray[0].node.parent;var n=Math.round(Math.random()*this.count);this.psIndexArray.push(n),this.psArray.push(t.getComponent(cc.ParticleSystem))}}},t.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},t.prototype.refreshSprite=function(){for(var e=0;e<this.psArray.length;e++){var t=this.psArray[e];this.psIndexArray[e]>=this.count&&(this.psIndexArray[e]=0),t.spriteFrame=this.spriteArray[this.psIndexArray[e]],t.emissionRate=this.emissionRate,t.autoRemoveOnFinish=!1,this.psIndexArray[e]++}},i([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),i([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),i([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],t.prototype,"psNodeNum",void 0),i([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],t.prototype,"emissionRate",void 0),i([s,l("game/111001801/MultiPSRandomRefresh")],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],NumAtlasLabel111001801:[function(e,t,n){"use strict";cc._RF.push(t,"45d33alP0BOpKTOFANHaeY/","NumAtlasLabel111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),i([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ObtainLayerManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"fcbf4POxFlC64SQoT0C2mkD","ObtainLayerManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ObtainLayerManager111001801=void 0;var r=e("../../base/GameData111001801"),s=e("../../base/ObtainNum111001801"),c=e("../../GameEventName111001801"),l=cc._decorator,u=l.ccclass,p=l.property,d=l.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.obtainContainer=null,t.obtainItem=null,t.lightNodeTemp=null,t.lightNodes=[],t.usedLight=[],t.obtainList=[],t.posList={startPosList:[{x:-230,y:-170},{x:-230,y:-380},{x:0,y:-167},{x:0,y:-383},{x:230,y:-166},{x:230,y:-384}],timesPosList:[{x:-211,y:26},{x:-100,y:26},{x:0,y:26},{x:110,y:26},{x:225,y:26}],slotPosList:[{x:-230,y:-85},{x:-230,y:-300},{x:0,y:-85},{x:0,y:-300},{x:230,y:-85},{x:230,y:-300}]},t}return a(t,e),t.prototype.onLoad=function(){this.addListten(),this.initNumList(),window.ObtainLayerManager111001801=this},t.prototype.onDestroy=function(){this.removeListten(),this.clearNumList()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(c.EventName.SET_OBTAIN_NUM_POPIN,this.popIn,this),game.EventManager.getInstance().addEventListener(c.EventName.SET_OBTAIN_NUM_UPWARD,this.upward,this),game.EventManager.getInstance().addEventListener(c.EventName.SET_OBTAIN_NUM_AFTER_TIMES,this.timesAddAndMoveToWinLayer,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(c.EventName.SET_OBTAIN_NUM_POPIN,this.popIn,this),game.EventManager.getInstance().removeEventListener(c.EventName.SET_OBTAIN_NUM_UPWARD,this.upward,this),game.EventManager.getInstance().removeEventListener(c.EventName.SET_OBTAIN_NUM_AFTER_TIMES,this.timesAddAndMoveToWinLayer,this)},t.prototype.popIn=function(e,t,n,o){this.obtainList[t].popIn(n,o)},t.prototype.upward=function(e,t,n){this.obtainList[t].upward(n)},t.prototype.timesAddAndMoveToWinLayer=function(e,t,n,o){var a=this,i=slot.Handler.create(this,function(){a.coinToWinLayer(t,n,o)});this.timesToAdd(t,n,i)},t.prototype.timesToAdd=function(e,t,n){var o=this;if(t<=1)n&&n.run();else{var a=r.GameData111001801.getRateIndex(t),i=this.getLight();this.container.addChild(i);var s=this.posList.timesPosList[a],c=this.posList.slotPosList[e];cc.tween(i).set({active:!0,x:s.x,y:s.y}).to(.3,{x:c.x,y:c.y}).set({active:!1}).call(function(){o.revertLight(i),n&&n.run()}).start()}},t.prototype.getLight=function(){var e=this.lightNodes.shift();return e||(e=cc.instantiate(this.lightNodeTemp)),this.usedLight.push(e),e},t.prototype.revertLight=function(e){this.usedLight=this.usedLight.filter(function(t){return t!==e}),e.removeFromParent(),this.lightNodes.push(e)},t.prototype.coinToWinLayer=function(e,t,n){var o=this,a=slot.Handler.create(this,function(){o.obtainList[e].moveToWinLayer(n)});this.obtainList[e].multiAni(t,a)},t.prototype.initNumList=function(){for(var e=0;e<6;e++){var t=cc.instantiate(this.obtainItem);t.name="ObtainNum_"+e,this.obtainContainer.addChild(t);var n=t.getComponent(s.ObtainNum111001801);n.setPosData(this.posList.startPosList[e],this.posList.slotPosList[e]),this.obtainList.push(n)}},t.prototype.clearNumList=function(){this.obtainContainer.removeAllChildren(),this.numList=[]},i([p(cc.Node)],t.prototype,"container",void 0),i([p(cc.Node)],t.prototype,"obtainContainer",void 0),i([p({type:cc.Prefab,tooltip:"\u4e2d\u5956\u5b57\u9884\u5236"})],t.prototype,"obtainItem",void 0),i([p(cc.Node)],t.prototype,"lightNodeTemp",void 0),i([u,d("game/111001801/ObtainLayerManager")],t)}(cc.Component);n.ObtainLayerManager111001801=h,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/ObtainNum111001801":"ObtainNum111001801"}],ObtainNum111001801:[function(e,t,n){"use strict";cc._RF.push(t,"b7826/jGB9Lw6JYvZbVm0EJ","ObtainNum111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ObtainNum111001801=void 0;var r=e("./GameData111001801"),s=e("./SoundManager111001801"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lightBg=null,t.lightEffect=null,t.timesNode=null,t.timesParent=null,t.numText=null,t.defaulPos={x:0,y:0},t.upwardPos={x:0,y:0},t.endPos={x:5,y:150},t.aniOff=10,t.num=0,t.inAni=!1,t.handels=[],t}return a(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.setPosData=function(e,t,n){void 0===n&&(n=!1),this.defaulPos=e,this.upwardPos=t,this.node.x=e.x,this.node.y=e.y,this.node.active=n},t.prototype.popIn=function(e,t){this.num=e,this.numText.string=slot.SlotUtils.formatNumber(e),cc.tween(this.node).set({active:!0,scale:.7,opacity:0,y:this.defaulPos.y+this.aniOff}).to(.3,{scale:1,y:this.defaulPos.y,opacity:255}).call(function(){t&&t.run()}).start()},t.prototype.upward=function(e){cc.tween(this.node).set({y:this.defaulPos.y}).to(.2,{y:this.upwardPos.y}).call(function(){e&&e.run()}).start()},t.prototype.multiAni=function(e,t){if(this.lightEffect.resetSystem(),e<=1)t&&t.run();else{s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_multi_increase,!1);var n=r.GameData111001801.getRateIndex(e);this.num*=e,this.numText.string=slot.SlotUtils.formatNumber(this.num),this.timesNode.active=!0,this.timesParent.children.forEach(function(e,t){e.active=t===n}),cc.tween(this.node).set({scale:1}).to(.15,{scale:1.2}).start(),cc.tween(this.timesNode).set({scale:0,opacity:0}).to(.15,{scale:1,opacity:255}).to(.15,{scale:1.5,opacity:0}).call(function(){t&&t.run()}).start()}},t.prototype.moveToWinLayer=function(e){var t=this;this.handels.push(e),this.inAni||(this.inAni=!0,cc.tween(this.node).set({x:this.upwardPos.x,y:this.upwardPos.y,opacity:255}).call(function(){}).to(.2,{x:this.endPos.x,y:this.endPos.y,opacity:0}).call(function(){t.reset(),t.runAndReset(),t.inAni=!1}).start())},t.prototype.runAndReset=function(){this.handels.forEach(function(e){e&&e.run()}),this.handels=[]},t.prototype.reset=function(){this.num=0,this.node.active=!1,this.node.x=this.defaulPos.x,this.node.y=this.defaulPos.y,this.node.scale=1,this.node.opacity=255,this.timesNode.active=!1,this.lightEffect.stopSystem()},i([u(cc.Node)],t.prototype,"lightBg",void 0),i([u(cc.ParticleSystem)],t.prototype,"lightEffect",void 0),i([u(cc.Node)],t.prototype,"timesNode",void 0),i([u(cc.Node)],t.prototype,"timesParent",void 0),i([u(cc.Label)],t.prototype,"numText",void 0),i([l,p("game/111001801/ObtainNum")],t)}(cc.Component);n.ObtainNum111001801=d,cc._RF.pop()},{"./GameData111001801":"GameData111001801","./SoundManager111001801":"SoundManager111001801"}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6949bfFBy1IZbM5JDapghXt","ParticleSpriteFramesRefresh");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return a(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},i([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),i([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),i([s,l("game/111001801/ParticleSpriteFramesRefresh")],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],RoleManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"ec8395qwl5Kf7XpYBGBzZjM","RoleManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.RoleManager111001801=n.RoleAni111001801=void 0;var r,s=e("../../base/GameData111001801"),c=e("../../base/SoundManager111001801"),l=e("../../GameEventName111001801");(function(e){e[e.IDLE_LOOP=0]="IDLE_LOOP",e[e.GREETINGS=1]="GREETINGS",e[e.IDLE_BIG=2]="IDLE_BIG",e[e.WIN_CAULDRON=3]="WIN_CAULDRON",e[e.NEW_EXPIOSION=4]="NEW_EXPIOSION"})(r=n.RoleAni111001801||(n.RoleAni111001801={}));var u=cc._decorator,p=u.ccclass,d=u.property,h=u.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roleNode=null,t.curAni=r.IDLE_LOOP,t.inAni=!1,t}return a(t,e),t.prototype.onLoad=function(){this.addListten(),window.RoleManager111001801=this,this.schedule(this.normalSound,1)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.removeListten()},t.prototype.normalSound=function(){s.GameData111001801.roleNormalSoundIntervalState&&(s.GameData111001801.roleNormalSoundInterval>=40?(this.setRoleState(null,r.IDLE_BIG),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.vox_inactive_nomagic,!1),s.GameData111001801.roleNormalSoundInterval=0):s.GameData111001801.roleNormalSoundInterval++)},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(l.EventName.SET_ROLE_STATE,this.setRoleState,this),game.EventManager.getInstance().addEventListener(l.EventName.BONUS_BACK_HOME,this.bonusBackHome,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(l.EventName.SET_ROLE_STATE,this.setRoleState,this),game.EventManager.getInstance().removeEventListener(l.EventName.BONUS_BACK_HOME,this.bonusBackHome,this)},t.prototype.setRoleState=function(e,t,n,o,a,i){if(void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a=r.IDLE_LOOP),this.inAni)return!1;var s=this.roleNode.children[t];if(!s)return!1;this.roleNode.children.forEach(function(e,n){e.opacity=n===t?255:0,e.active=!1,e.getComponent(cc.Animation).stop()}),this.curAni=t,this.playMagicSound(t);var c=s&&s.getComponent(cc.Animation);if(n){s.active=!0;var l=c&&c.play();o?l.wrapMode=cc.WrapMode.Loop:(l.wrapMode=cc.WrapMode.Normal,this.inAni=!0,this.playToIDLEByFinish(c,o,a,i))}else c&&c.stop();return!!c},t.prototype.playToIDLEByFinish=function(e,t,n,o){var a=this;t||e.once("finished",function(){a.inAni=!1,a.curAni=r.IDLE_LOOP,a.setRoleState(null,n||r.IDLE_LOOP,!0,!0),o&&o.run()},this)},t.prototype.playMagicSound=function(e){e===r.WIN_CAULDRON&&c.SoundManager111001801.ins.playEffect(c.SoundName111001801.vox_item_magic,!1)},t.prototype.bonusBackHome=function(){this.setRoleState(null,r.GREETINGS),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.vox_intro_hithere_random,!1)},i([d(cc.Node)],t.prototype,"roleNode",void 0),i([p,h("game/111001801/RoleManager")],t)}(cc.Component);n.RoleManager111001801=m,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/SoundManager111001801":"SoundManager111001801"}],SlotItemDisplay111001801:[function(e,t,n){"use strict";cc._RF.push(t,"fec44azYRhBcoWt2NQ8XboS","SlotItemDisplay111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BookSpineIndex=n.SlotItemDisplay111001801=void 0;var r,s=e("../const/GameConst111001801"),c=e("../GameEventName111001801"),l=e("./GameData111001801"),u=e("./GData111001801"),p=e("./SoundManager111001801"),d=cc._decorator,h=d.ccclass,m=d.property,f=d.menu,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=null,t.book_content=null,t.left_icon=null,t.right_icon=null,t.spList=[],t.speicalNodeList=[],t.data=null,t.spIndex=0,t.inFadeAni=!1,t.fadeHandels=[],t.markData=[],t.handels=[],t}return a(t,e),t.prototype.onLoad=function(){},t.prototype.setIcon=function(e,t){return!!e&&(this.data=e,-1===e?(this.left_icon.spriteFrame=null,this.right_icon.spriteFrame=null):(this.left_icon.spriteFrame=slot.SlotGameManager.instance.getCardByName(this.conf&&this.conf.left_icon),this.right_icon.spriteFrame=slot.SlotGameManager.instance.getCardByName(this.conf&&this.conf.right_icon)),t&&t(),!0)},t.prototype.playMagic=function(e,t,n){var o=this,a=[],i={delay:0,startIndex:0,endIndex:0,effects:[]},l="";switch(e){case s.EliminateType.WATER:a=[{animation:"water_"+(t.pos<3?"R":"L"),loop:!1,active:!0},{animation:"fire",loop:!1,active:!1}],i={delay:.8,startIndex:t.crushPos[0]-1,endIndex:t.crushPos[1]-1,effects:3==t.pos||4==t.pos?[2,3,4,5]:[2,3,4]},3!==t.pos&&4!==t.pos||(i.delay=.5,i.startIndex=t.pos-1),5!==t.pos&&6!==t.pos||(i.startIndex=t.crushPos[1]-1,i.endIndex=t.crushPos[0]-1),l=p.SoundName111001801.sym_magic_water;break;case s.EliminateType.FIRE:a=[{animation:"fire",loop:!1,active:!0},{animation:"fire",loop:!1,active:!1}],i={delay:.3,startIndex:t.pos-1,endIndex:t.crushPos[0]-1,effects:[0]},l=p.SoundName111001801.sym_magic_fire;break;case s.EliminateType.THUNDER:a=[{animation:"lightning",loop:!1,active:!0},{animation:"lightning",loop:!1,active:!1}],i={delay:.3,startIndex:t.pos-1,endIndex:t.crushPos[0]-1,effects:[1]},l=p.SoundName111001801.sym_magic_llightning}if(setTimeout(function(){p.SoundManager111001801.ins.playEffect(l,!1)},250),a.length>0){cc.tween(this).delay(i.delay+.2).call(function(){game.EventManager.getInstance().raiseEvent(c.EventName.SET_OBTAIN_NUM_UPWARD,t.pos-1)}).start();var u=slot.Handler.create(this,function(){cc.tween(o).delay(.6).call(function(){n&&n.run()}).start()});this.playMagicEffect(i),this.setSpineAnimation(r.MAGIC,a,u)}else n&&n.run()},t.prototype.setFadeAni=function(e,t,n){var o=this;if(l.GameData111001801.eliminateList.includes(this.data))return n&&n.run(),!1;if(this.fadeHandels.push(n),!this.inFadeAni){this.inFadeAni=!0;var a=this;a.setContainerActive(!0),setTimeout(function(){a.setContainerActive(!1)},100);var i=slot.Handler.create(this,function(){o.fadeHandels.forEach(function(e){e.run()}),o.fadeHandels=[],o.inFadeAni=!1});return this.setSpineAnimation(r.GENERATE_ANI,[{animation:"book2",loop:!1,active:!0},{animation:"book2",loop:!1,active:!1}],i),!0}},t.prototype.setContainerActive=function(e){this.container.active=e,this.container.active||this.setContentState(!0,!1)},t.prototype.setContentState=function(e,t){var n=this;void 0===t&&(t=!1),cc.Tween.stopAllByTarget(this.book_content),t?(e&&(this.book_content.active=!0),cc.tween(this.book_content).set({opacity:e?0:255}).to(.3,{opacity:e?255:0}).call(function(){e||(n.book_content.opacity=255,n.book_content.active=!1)}).start()):(this.book_content.opacity=255,this.book_content.active=e)},t.prototype.setSpineAnimation=function(e,t,n){var o=this.spList[e];if(!o)return cc.error("Slot Item Display get sp node error"),!1;if(this.handels[e]||(this.handels[e]=[]),this.handels[e].push(n),this.markData[e]&&e==r.GENERATE_ANI)return!1;this.markData[e]=!0;var a=this;return o.node.active=t[0].active,o.setEndListener(function(){a.markData[e]=!1,t.length>2?a.setSpineAnimation(e,t.slice(1,t.length),n):(t[1]&&(o.setAnimation(0,t[1].animation,t[1].loop),o.node.active=t[1].active),o.setEndListener(null),a.handels[e].forEach(function(e){e&&e.run()}),a.handels[e]=[])}),o.setAnimation(0,t[0].animation,t[0].loop),o.timeScale=t[0].accelerate?2.5:1,this.spIndex=e,!0},t.prototype.speicalTextAni=function(e){void 0===e&&(e=this.data),1111===e&&cc.tween(this.speicalNodeList[0]).set({opacity:0}).to(.6,{opacity:255}).to(.4,{opacity:0}).start()},t.prototype.playMagicEffect=function(e){setTimeout(function(){game.EventManager.getInstance().raiseEvent(c.EventName.PLAY_MAGIC_EFFECT,e)},1e3*e.delay)},Object.defineProperty(t.prototype,"conf",{get:function(){return this.data?u.GData111001801.ins.getEelementConfByData(this.data):null},enumerable:!1,configurable:!0}),i([m(cc.Node)],t.prototype,"container",void 0),i([m({type:cc.Node,tooltip:"\u4e66\u672cicon\u7684\u7236\u8282\u70b9"})],t.prototype,"book_content",void 0),i([m({type:cc.Sprite,tooltip:"\u4e66\u672c\u5de6\u8fb9icon\u8d34\u56fe"})],t.prototype,"left_icon",void 0),i([m({type:cc.Sprite,tooltip:"\u4e66\u672c\u53f3\u8fb9icon\u8d34\u56fe"})],t.prototype,"right_icon",void 0),i([m({type:[sp.Skeleton],tooltip:"\u4e66\u672c\u7684\u6240\u6709\u9aa8\u9abc"})],t.prototype,"spList",void 0),i([m([cc.Node])],t.prototype,"speicalNodeList",void 0),i([h,f("game/111001801/SlotItemDisplay")],t)}(cc.Component);n.SlotItemDisplay111001801=_,function(e){e[e.BOOK_RUN=0]="BOOK_RUN",e[e.WIN_1_5=1]="WIN_1_5",e[e.WIN_BG_ANI=2]="WIN_BG_ANI",e[e.WIN_6_11=3]="WIN_6_11",e[e.MAGIC=4]="MAGIC",e[e.MULTI_TIMES_ANI=5]="MULTI_TIMES_ANI",e[e.GENERATE_ANI=6]="GENERATE_ANI"}(r=n.BookSpineIndex||(n.BookSpineIndex={})),cc._RF.pop()},{"../GameEventName111001801":"GameEventName111001801","../const/GameConst111001801":"GameConst111001801","./GData111001801":"GData111001801","./GameData111001801":"GameData111001801","./SoundManager111001801":"SoundManager111001801"}],SoundManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"3c387JmxBNI1Jc6yjHZLqKe","SoundManager111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundName111001801=n.SoundManager111001801=void 0;var o,a=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.playMusic=function(e,t,n,o,a){void 0===n&&(n=!1),slot.SoundMger.instance.playMusic(e,t,n?function(){slot.SoundMger.instance.playMusic("Game_Back_Music",!0)}:o,a)},e.prototype.stopMusic=function(e){slot.SOUND_NAME.Reel_Spin,slot.SoundMger.instance.stopMusic(e,!1)},e.prototype.playEffect=function(e,t){slot.SoundMger.instance.playEffect(e,t)},e.prototype.stopEffect=function(e){slot.SoundMger.instance.stopEffect(e)},e._ins=null,e}();n.SoundManager111001801=a,window.SoundManager111001801=a,function(e){e.Spin_Button_Sound="Spin_Button_Sound",e.Game_Back_Music="Game_Back_Music",e.Reel_Spin_Sub="Reel_Spin_Sub",e.Reel_Stop="Reel_Stop",e.bgm_bonus_loop="bgm_bonus_loop",e.bgm_bonus_trans_loop="bgm_bonus_trans_loop",e.bgm_bubble_layer_loop="bgm_bubble_layer_loop",e.bgm_mg_intro="bgm_mg_intro",e.bgm_totalwin="bgm_totalwin",e.Bounty_Prompt_Box="Bounty_Prompt_Box",e.Bonus_Back_Music="Bonus_Back_Music",e.bonus_intro_pot_explosion="bonus_intro_pot_explosion",e.prize_big_win_infobar_bounce="prize_big_win_infobar_bounce",e.prize_bonus_bubble_open="prize_bonus_bubble_open",e.prize_bonus_bubble_open_coins="prize_bonus_bubble_open_coins",e.prize_bonus_counting="prize_bonus_counting",e.prize_infobar_notifier="prize_infobar_notifier",e.prize_med_win_infobar_bounce="prize_med_win_infobar_bounce",e.prize_multi_increase="prize_multi_increase",e.prize_reel_single_count="prize_reel_single_count",e.sym_book_hilight_general="sym_book_hilight_general",e.sym_book_refill="sym_book_refill",e.sym_item_bottle_general="sym_item_bottle_general",e.sym_item_frog="sym_item_frog",e.sym_item_mushrrom="sym_item_mushrrom",e.sym_item_pop_general="sym_item_pop_general",e.sym_item_spider="sym_item_spider",e.sym_item_watersplash_general="sym_item_watersplash_general",e.sym_magic_fire="sym_magic_fire",e.sym_magic_llightning="sym_magic_llightning",e.sym_magic_water="sym_magic_water",e.sym_scatter_wall_hilight_all="sym_scatter_wall_hilight_all",e.sym_scatter_wall_hilight_single="sym_scatter_wall_hilight_single",e.total_fx_ending="total_fx_ending",e.total_fx_main="total_fx_main",e.ui_btn_and_bonus_click="ui_btn_and_bonus_click",e.vox_inactive_nomagic="vox_inactive_nomagic",e.vox_intro_hithere_random="vox_intro_hithere_random",e.vox_intro_hi_random="vox_intro_hi_random",e.vox_item_magic="vox_item_magic",e.vox_multi_x2_double="vox_multi_x2_double",e.vox_multi_x3_triple="vox_multi_x3_triple",e.vox_multi_x4_incredible="vox_multi_x4_incredible",e.vox_multi_x5_unbelievable="vox_multi_x5_unbelievable"}(o=n.SoundName111001801||(n.SoundName111001801={})),window.SoundName111001801=o,cc._RF.pop()},{}],SpinBtnManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"b76d3EnM+xEtKkgbwb/NXE0","SpinBtnManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SpinRotateState=n.SpinBtnManager111001801=void 0;var r,s=e("../../GameEventName111001801"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ballNode=null,t.sk=null,t.autoEffect=null,t.autoSk=null,t.rotateNode=null,t.rotateIcons=[],t.lightNodes=[],t.spinParticle=null,t.autoTimes=null,t.rotateNum=0,t.inAuto=!1,t.inRotate=!0,t.leaveIn=!1,t.rotateSpeed=6,t}return a(t,e),t.prototype.onLoad=function(){this.init(),this.addListten(),window.SpinBtnManager111001801=this},t.prototype.init=function(){this.setAutoTimes(0,!1),this.setRotate(null,r.START),this.resume(),slot.GameControlBase.instance.ctlBtn.opacity=0,slot.GameControlBase.instance.autoSpinBtn.opacity=0},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.clickBtn,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_OPEN_MENU,this.hide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_CLOSE_MENU,this.show,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_MULTI_START_BTN,this.enterAuto,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CANCEL_AUTO_GAME,this.leaveAuto,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.leaveAuto,this),slot.GameControlBase.instance.ctlBtn.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseLeaveIn,this),slot.GameControlBase.instance.ctlBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeaveOut,this),game.EventManager.getInstance().addEventListener(s.EventName.SUB_SET_SPIN_BTN_ROTATE,this.setRotate,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_REST_AUTO_TIMES_CHANGED,this.onTimesChange,this),game.EventManager.getInstance().addEventListener("EVENT_CLOSE_SCORE_BALANCE_VIEW",this.show,this),this.autoEffect.active=!1,slot.GameControlBase.instance.autoSpinBtn.on(cc.Node.EventType.MOUSE_ENTER,this.onAutoEffectMouseLeaveIn,this),slot.GameControlBase.instance.autoSpinBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.onAutoEffectMouseLeaveOut,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.clickBtn,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_OPEN_MENU,this.hide,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_CLOSE_MENU,this.show,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_MULTI_START_BTN,this.enterAuto,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CANCEL_AUTO_GAME,this.leaveAuto,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.leaveAuto,this),slot.GameControlBase.instance.ctlBtn.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseLeaveIn,this),slot.GameControlBase.instance.ctlBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeaveOut,this),game.EventManager.getInstance().removeEventListener(s.EventName.SUB_SET_SPIN_BTN_ROTATE,this.setRotate,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_REST_AUTO_TIMES_CHANGED,this.onTimesChange,this),game.EventManager.getInstance().removeEventListener("EVENT_CLOSE_SCORE_BALANCE_VIEW",this.show,this),slot.GameControlBase.instance.autoSpinBtn.off(cc.Node.EventType.MOUSE_ENTER,this.onAutoEffectMouseLeaveIn,this),slot.GameControlBase.instance.autoSpinBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.onAutoEffectMouseLeaveOut,this)},t.prototype.setRotate=function(e,t){var n=!0;switch(t){case r.STOP:n=!1;break;case r.START:this.rotateSpeed=3;break;case r.ACCELERATE:this.rotateSpeed=25}this.inRotate=n,this.rotateIcons[0].active=!n,this.rotateIcons[1].active=n,this.unschedule(this.rotate),n&&this.schedule(this.rotate,.03)},t.prototype.rotate=function(){var e=this;this.rotateNum+=this.rotateSpeed,this.rotateNum>=360&&(this.rotateNum=this.rotateNum-360),this.rotateIcons.forEach(function(t){t.angle=-e.rotateNum}),this.lightNodes.forEach(function(t){t.angle=-e.rotateNum-90})},t.prototype.enterAuto=function(){this.inAuto=!0;var e=slot.SpinManager.instance.autoTimes;this.autoEffect.active=!0,this.setAutoTimes(e,!0),this.sk.setAnimation(0,"auto",!0),this.rotateNode.active=!1},t.prototype.leaveAuto=function(){this.inAuto=!1,this.resume(),this.setAutoTimes(0,!1),this.rotateNode.active=!0,this.autoEffect.active=!1,this.autoSk.node.active=!1},t.prototype.onMouseLeaveIn=function(){this.leaveIn=!0,!this.inAuto&&this.inRotate&&this.sk.setAnimation(0,"hover",!0)},t.prototype.onMouseLeaveOut=function(){this.leaveIn=!1,this.inAuto||this.resume()},t.prototype.show=function(){this.node.active=!0,this.scheduleOnce(function(){slot.GameControlBase.instance.betBtn.y=-70,slot.GameControlBase.instance.backBtn.y=-90,slot.GameControlBase.instance.setBtn.y=-70},.21)},t.prototype.hide=function(){this.node.active=!1},t.prototype.clickBtn=function(){var e=this;this.spinParticle.resetSystem(),cc.tween(this).delay(1).call(function(){e.spinParticle.stopSystem()}).start(),this.sk.setEndListener(function(){e.sk.setEndListener(null),e.resume()}),this.sk.setAnimation(0,"click2",!1)},t.prototype.resume=function(){this.sk.setAnimation(0,"default",!0)},t.prototype.onTimesChange=function(){if(this.inAuto){var e=slot.SpinManager.instance.restAutoTimes;this.setAutoTimes(e,this.inAuto&&e>=0),this.inAuto&&e<=0&&this.leaveAuto()}},t.prototype.setAutoTimes=function(e,t){this.autoTimes.string=e+"",this.autoTimes.node.active=t},t.prototype.onAutoEffectMouseLeaveIn=function(){this.autoEffect.active&&(this.autoSk.node.active=!0,"hover"!=this.autoSk.animation&&this.autoSk.setAnimation(0,"hover",!0))},t.prototype.onAutoEffectMouseLeaveOut=function(){this.autoSk.node.active=!1},i([u(cc.Node)],t.prototype,"ballNode",void 0),i([u(sp.Skeleton)],t.prototype,"sk",void 0),i([u(cc.Node)],t.prototype,"autoEffect",void 0),i([u(sp.Skeleton)],t.prototype,"autoSk",void 0),i([u(cc.Node)],t.prototype,"rotateNode",void 0),i([u([cc.Node])],t.prototype,"rotateIcons",void 0),i([u([cc.Node])],t.prototype,"lightNodes",void 0),i([u(cc.ParticleSystem)],t.prototype,"spinParticle",void 0),i([u(cc.Label)],t.prototype,"autoTimes",void 0),i([l,p("game/111001801/SpinBtnManager")],t)}(cc.Component);n.SpinBtnManager111001801=d,function(e){e[e.STOP=0]="STOP",e[e.START=1]="START",e[e.ACCELERATE=2]="ACCELERATE"}(r=n.SpinRotateState||(n.SpinRotateState={})),window.SpinRotateState=r,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801"}],SpinSlotView111001801:[function(e,t,n){"use strict";cc._RF.push(t,"d0d34ySobJHsJwjICQmc+B3","SpinSlotView111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../base/GameData111001801"),r=e("../../base/SlotItemDisplay111001801"),s=e("../../base/SoundManager111001801"),c=e("../../GameEventName111001801"),l=e("../../main/Main111001801"),u=e("./RoleManager111001801"),p=function(e){function t(){var t=e.call(this)||this;t.display=null,t.hitTimes=0,t.hs=[],t.inOpen=!1,t.stopTimeOut=null;var n=cc.instantiate(l.default.slot_item_prefab);return t.addChild(n),t.display=n.getComponent(r.SlotItemDisplay111001801),t.skinLoader.opacity=0,t}return a(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.display.setIcon(e)},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._skinLoader&&this._skinLoader.parent&&(this._skinLoader.scaleX=this._skinLoader.scaleY=1,this._skinLoader.opacity=0,this._skinLoader.y=0,this._skinLoader.url=null)},t.prototype.onRollEnd=function(){},t.prototype.playAni=function(e,t){void 0===e&&(e=this.data);var n=i.GameData111001801.slotAniList[e];if(!n)return!1;var o=slot.Handler.create(this,function(){t&&t.run()});this.targeStoveMagic(e),1111===e&&game.EventManager.getInstance().raiseEvent(c.EventName.SET_ROLE_STATE,u.RoleAni111001801.NEW_EXPIOSION),i.GameData111001801.specialEliminateList.includes(e)&&setTimeout(function(){game.EventManager.getInstance().raiseEvent(c.EventName.SET_ROLE_STATE,u.RoleAni111001801.WIN_CAULDRON)},500),this.display.speicalTextAni(e);var a=[{animation:n.ani,loop:!1,active:!0},{animation:n.ani,loop:!1,active:!1}];switch(e){case 101:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_frog,!1);break;case 202:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_spider,!1);break;case 303:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_mushrrom,!1);break;case 404:case 505:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_bottle_general,!1);break;case 1111:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_book_hilight_general,!1);break;default:s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_item_pop_general,!1)}return this.display.setSpineAnimation(n.index,a,o),this.display.speicalTextAni(e),!0},t.prototype.playSummonAni=function(e,t){return void 0===e&&(e=this.data),i.GameData111001801.enableSummon(e)?this.display.setSpineAnimation(r.BookSpineIndex.WIN_BG_ANI,[{animation:"animation",loop:!1,active:!0},{animation:"animation",loop:!1,active:!1}],t):(t&&t.run(),!1)},t.prototype.playMagic=function(e,t,n){this.display.setContainerActive(!1),this.display.playMagic(e,t,n)},t.prototype.magicDoing=function(e,t,n){var o=this,a=slot.SlotMachineView.instance.scroller.renders,i=0;t.crushPos.forEach(function(e,r){var s=slot.Handler.create(o,function(){++i>=t.crushPos.length&&n&&n.run()}),c=3===e||4==e?0:.3;a[e-1].combine(c*r,.3,s)})},t.prototype.isWild=function(){return slot.SlotUtils.isWild(this._data)},t.prototype.combine=function(e,t,n){this.display.setFadeAni(e,t,n)},t.prototype.generateBookAni=function(e,t,n,o){var a=this;if(void 0===o&&(o=!1),this.hs.push(n),!this.inOpen){this.inOpen=!0,this.display.setContainerActive(!1),this.data=t;var i=slot.Handler.create(this,function(){a.display.setContainerActive(!0),a.hs.forEach(function(e){e&&e.run()}),a.hs=[],a.inOpen=!1,s.SoundManager111001801.ins.playEffect(s.SoundName111001801.Reel_Stop,!1)}),c=this;setTimeout(function(){i.run()},1e3*(e+.3));var l=[{animation:"book1",loop:!1,active:!0},{animation:"book1",loop:!1,active:!1}];setTimeout(function(){s.SoundManager111001801.ins.playEffect(s.SoundName111001801.sym_book_refill,!1),c.display.setSpineAnimation(r.BookSpineIndex.GENERATE_ANI,l)},1e3*e)}},t.prototype.getElementType=function(){return slot.SlotConfigManager.instance.DataElement.getData(this.data)?slot.SlotConfigManager.instance.DataElement.getData(this.data).type:(console.error("get element error,please check element:"+this.data+" is in in element table"),0)},t.prototype.startRun=function(e){void 0===e&&(e=.1);var t=this;setTimeout(function(){t.display.setSpineAnimation(r.BookSpineIndex.BOOK_RUN,[{animation:"animation",loop:!1,active:!0,accelerate:slot.SpinManager.instance.isInTurbo},{animation:"animation2",loop:!0,active:!0}])},1e3*e)},t.prototype.stopRun=function(e,t){var n=this;void 0===t&&(t=.1),e&&(this.data=e),this.display.setContentState(!0);var o=this;this.stopTimeOut=setTimeout(function(){o.display.setSpineAnimation(r.BookSpineIndex.BOOK_RUN,[{animation:"animation3",loop:!1,active:!0},{animation:"animation3",loop:!1,active:!1}]),n.stopTimeOut=null},1e3*t)},t.prototype.isResetBeforeScrolling=function(){return!0},t.prototype.killToStop=function(e){e&&(this.data=e),this.display.setContentState(!0),this.stopTimeOut&&clearTimeout(this.stopTimeOut),this.stopTimeOut=null,this.display.setSpineAnimation(r.BookSpineIndex.BOOK_RUN,[{animation:"animation3",loop:!1,active:!1}]),this.display.setContentState(!0)},t.prototype.targeStoveMagic=function(e){1111===e&&game.EventManager.getInstance().raiseEvent(c.EventName.SET_STOVE_MAGIC_NUM,1,!0)},t}(slot.BaseSpinSlotView);n.default=p,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/GameData111001801":"GameData111001801","../../base/SlotItemDisplay111001801":"SlotItemDisplay111001801","../../base/SoundManager111001801":"SoundManager111001801","../../main/Main111001801":"Main111001801","./RoleManager111001801":"RoleManager111001801"}],SpriteClamp121020501:[function(e,t,n){"use strict";cc._RF.push(t,"ed814whfl5ET5xmntodYXRK","SpriteClamp121020501");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,u=r.executeInEditMode,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maxWidth=180,t}return a(t,e),t.prototype.onLoad=function(){this.fitMax(),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.fitMax,this)},t.prototype.fitMax=function(){this.node.width>this.maxWidth?this.node.scale=this.maxWidth/this.node.width:this.node.scale=1},i([c(cc.Integer)],t.prototype,"maxWidth",void 0),i([s,l("game/SpriteClamp121020501"),u],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],StoveManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"a102211qdhBur6R2Jlgd96l","StoveManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.StoveMagicNodeName=n.StoveAniName=n.StoveManager111001801=void 0;var r,s,c=e("../../base/SoundManager111001801"),l=e("../../GameEventName111001801"),u=cc._decorator,p=u.ccclass,d=u.property,h=u.menu,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.breathNode=null,t.allLineParticle=null,t.magicNode=null,t.lines=[],t.lightNodes=[],t.stoveNode=null,t.stoveSp=null,t.stoveBoomSp=null,t.magicNum=0,t.inNormal=!0,t.aniList={},t}var n;return a(t,e),n=t,t.prototype.onLoad=function(){this.addListten(),this.breathNode.opacity=0,this.schedule(this.breathAni,8),this.resetMagicNum(),n.ins=this},t.prototype.onDestroy=function(){this.removeListten(),this.unschedule(this.breathAni)},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(l.EventName.PLAY_STOVE_ANI,this.playStroveAni,this),game.EventManager.getInstance().addEventListener(l.EventName.SET_STOVE_MAGIC_NUM,this.setMagicNum,this),game.EventManager.getInstance().addEventListener(l.EventName.RESET_STOVE_ANI,this.resetStoveAni,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(l.EventName.PLAY_STOVE_ANI,this.playStroveAni,this),game.EventManager.getInstance().removeEventListener(l.EventName.SET_STOVE_MAGIC_NUM,this.setMagicNum,this),game.EventManager.getInstance().removeEventListener(l.EventName.RESET_STOVE_ANI,this.resetStoveAni,this)},t.prototype.breathAni=function(){if(this.inNormal){var e=this.breathNode.getChildByName("bg");cc.tween(this.breathNode).set({opacity:0}).to(.5,{opacity:255}).to(.5,{opacity:0}).start(),cc.tween(e).set({angle:0}).to(4.5,{angle:-360}).start()}},t.prototype.syncBreathState=function(e){this.breathNode.active=e<=0,this.inNormal=e<=0},t.prototype.resetStoveAni=function(){this.stoveSp.setAnimation(0,r.DEFAULT,!0)},t.prototype.playStroveAni=function(e,t,n){var o=this;this.aniList[t.ani.animation]&&t.checkExist?n&&n.run():(this.aniList[t.ani.animation]=!0,t.ani.loop||this.stoveSp.setEndListener(function(){t.resumeByAfterAni?o.stoveSp.setAnimation(0,o.defaultResumeAni.animation,o.defaultResumeAni.loop):t.next&&o.stoveSp.setAnimation(0,t.next.animation,t.next.loop),o.stoveSp.setEndListener(null),o.aniList[t.ani.animation]=!1,n&&n.run()}),this.stoveSp.setAnimation(0,t.ani.animation,t.ani.loop))},t.prototype.playBoom=function(e){var t=this;this.scheduleOnce(function(){e&&e.run()},.2),this.stoveBoomSp.setEndListener(function(){t.stoveBoomSp.setAnimation(0,"none",!1),t.stoveBoomSp.setEndListener(null),t.stoveBoomSp.node.active=!1}),this.stoveBoomSp.node.active=!0,this.stoveBoomSp.setAnimation(0,"animation",!1),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.bonus_intro_pot_explosion,!1)},t.prototype.setMagicNum=function(e,t,n,o){var a=this;if(void 0===n&&(n=!1),this.syncBreathState(t),t<=0)return this.resetMagicNum(),void(o&&o.run());if(n&&(t=this.magicNum+t),this.magicNum>=3)o&&o.run();else{var i=slot.Handler.create(this,function(){if(t>=3){var e=slot.Handler.create(a,function(){var e={ani:{animation:r.BONUGAME_START,loop:!1},resumeByAfterAni:!1,next:{animation:r.BONUGAME_LOOP,loop:!0}};a.playStroveAni(null,e,o)});a.playAllLine(.8,e)}else if(2===t){var n={ani:{animation:r.BONUGAME_LOOP_2,loop:!0},resumeByAfterAni:!1};a.playStroveAni(null,n,o)}else o&&o.run()});this.lightNodes.slice(this.magicNum,Math.min(t,3)).forEach(function(e){a.setSingleMagicAni(e,i)}),this.magicNum=t}},t.prototype.setSingleMagicAni=function(e,t){if(!e)return!1;c.SoundManager111001801.ins.playEffect(c.SoundName111001801.sym_scatter_wall_hilight_single,!1),cc.tween(e).set({active:!0,opacity:0}).to(.4,{opacity:255}).start();var n=this.getNodeByObj(e,s.CIRCLE),o=this.getNodeByObj(e,s.SYM2);cc.tween({value:0}).call(function(){o.scale=1,o.opacity=255,n.scale=.6}).delay(.1).to(.3,{value:100},{progress:function(e,t,a,i){n.scale=.6+.4*i,o.scale=1+1*i,o.opacity=255-255*i}}).call(function(){o.opacity=0,n.scale=1,t&&t.run()}).start()},t.prototype.resetMagicNum=function(){this.magicNum=0,this.lines.forEach(function(e){e.fillRange=0}),this.lightNodes.forEach(function(e){e.active=!1,e.getChildByName("circle").active=!0}),this.resetNodeByObj(this.magicNode,s.CIRCLE),this.resetNodeByObj(this.magicNode,s.SYM2)},t.prototype.playAllLine=function(e,t){void 0===e&&(e=.8),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.sym_scatter_wall_hilight_all,!1),c.SoundManager111001801.ins.playEffect(c.SoundName111001801.prize_med_win_infobar_bounce,!1),cc.tween(this.magicNode).set({scale:1}).delay(e).to(.15,{scale:.8}).to(.15,{scale:1.2}).to(.15,{scale:1}).start();var n=this;cc.tween({value:0}).to(e,{value:100},{progress:function(e,t,o,a){n.lines.forEach(function(e){e.fillRange=a})}}).call(function(){n.lines.forEach(function(e){e.fillRange=1}),n.playBgPopInAni(t),n.allLineParticle.resetSystem(),n.lightNodes.forEach(function(e){e.getChildByName("circle").active=!1}),setTimeout(function(){n.allLineParticle.stopSystem()},200)}).start()},t.prototype.playBgPopInAni=function(e){var t=this.getNodeByObj(this.magicNode,s.CIRCLE),n=this.getNodeByObj(this.magicNode,s.SYM2);cc.tween({value:0}).call(function(){t.active=!0,n.active=!0}).to(.3,{value:1},{progress:function(e,o,a,i){t.scale=1.3+.6*i,n.scale=1+4*i,n.opacity=255-255*i}}).call(function(){n.opacity=0,e&&e.run()}).start()},t.prototype.resetNodeByObj=function(e,t){var n=this.getNodeByObj(e,t);return n&&(n.active=!1),!!n},t.prototype.getNodeByObj=function(e,t){return e.getChildByName(t)},Object.defineProperty(t.prototype,"defaultResumeAni",{get:function(){return{animation:this.magicNum>=3?r.BONUGAME_LOOP:r.DEFAULT,loop:!0}},enumerable:!1,configurable:!0}),t.ins=null,i([d({type:cc.Node,tooltip:"\u5e38\u6001\u4e0b\uff0c\u547c\u5438\u706f\u6548\u679c(\u95f4\u96945\u79d2)"})],t.prototype,"breathNode",void 0),i([d({type:cc.ParticleSystem,tooltip:"\u89e6\u53d1\u5956\u8d4f\u6e38\u620f\u65f6\u5019\u7684\u7c92\u5b50"})],t.prototype,"allLineParticle",void 0),i([d({type:cc.Node,tooltip:"\u9b54\u6cd5\u9635(\u8be5\u8282\u70b9\u4e0b\u7684\u8282\u70b9\u540d\u79f0\u4e0d\u80fd\u968f\u610f\u66f4\u6539\u540d\u79f0,\u540c\u6b65\u6cd5\u9635\u662f\u901a\u8fc7\u8282\u70b9\u540d\u5bfb\u627e\u8282\u70b9,\u540c\u6b65\u8282\u70b9\u72b6\u6001)"})],t.prototype,"magicNode",void 0),i([d([cc.Sprite])],t.prototype,"lines",void 0),i([d({type:[cc.Node],tooltip:"\u9b54\u6cd5\u9635\u6bcf\u4e2a\u5708\u7684\u8282\u70b9"})],t.prototype,"lightNodes",void 0),i([d({type:cc.Node,tooltip:"\u836f\u7089"})],t.prototype,"stoveNode",void 0),i([d({type:sp.Skeleton,tooltip:"\u836f\u7089\u9aa8\u9abc"})],t.prototype,"stoveSp",void 0),i([d({type:sp.Skeleton,tooltip:"\u8fdb\u5165\u8d4f\u91d1\u6a21\u5f0f\u524d\u7684\u836f\u7089\u4e0a\u65b9\u7206\u70b8\u9aa8\u9abc"})],t.prototype,"stoveBoomSp",void 0),n=i([p,h("game/111001801/StoveManager")],t)}(cc.Component);n.StoveManager111001801=m,function(e){e.DEFAULT="default",e.JUMP_INTO="itemJumpInto",e.JUMP_INTO_2="itemJumpInto2",e.BONUGAME_LOOP="overflow_loop",e.BONUGAME_LOOP_2="overflow_loop2",e.BONUGAME_START="overflow_start"}(r=n.StoveAniName||(n.StoveAniName={})),function(e){e.CIRCLE="circle",e.SYM2="sym2"}(s=n.StoveMagicNodeName||(n.StoveMagicNodeName={})),cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/SoundManager111001801":"SoundManager111001801"}],SubQueueManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"7fcc9kN9cFEirA5/Y5gV1rR","SubQueueManager111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.SubQueueManager111001801=void 0;var o=function(){function e(){this._queue=[],this.continueHandler=slot.Handler.create(this,this.execute,null,!1)}return Object.defineProperty(e,"ins",{get:function(){return this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._queue=[]},e.prototype.pushToQueue=function(e){this._queue.push(e)},e.prototype.execute=function(){return!(this._queue.length<=0||(this._queue.shift().runWith(this.continueHandler),0))},e._ins=null,e}();n.SubQueueManager111001801=o,window.SubQueueManager111001801=o,cc._RF.pop()},{}],TimesManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"09a7eTfFmNOjIBKKxRYf5BI","TimesManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TimesManager111001801=void 0;var r=e("../../base/SoundManager111001801"),s=e("../../const/GameConst111001801"),c=e("../../GameEventName111001801"),l=cc._decorator,u=l.ccclass,p=l.property,d=l.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t.handleList=[],t.aniList=[],t.curIndex=0,t}return a(t,e),t.prototype.onLoad=function(){this.addListten(),this.resetTimesIndex(null),window.TimesManager111001801=this},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(c.EventName.SET_TIMES_STATE_AND_INDEX,this.setCurrentIndex,this),game.EventManager.getInstance().addEventListener(c.EventName.RESET_TIMES_INDEX,this.resetTimesIndex,this),game.EventManager.getInstance().addEventListener(c.EventName.SYNC_TIMES_STATE_AND_INDEX,this.syncTimesIndex,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(c.EventName.SET_TIMES_STATE_AND_INDEX,this.setCurrentIndex,this),game.EventManager.getInstance().removeEventListener(c.EventName.RESET_TIMES_INDEX,this.resetTimesIndex,this),game.EventManager.getInstance().removeEventListener(c.EventName.SYNC_TIMES_STATE_AND_INDEX,this.syncTimesIndex,this)},t.prototype.setCurrentIndex=function(e,t,n,o){var a=this,i=this.items[t];if(!i)return o&&o.run(),!1;if(this.curIndex>=4)return o&&o.run(),!1;if(this.curIndex=t,this.pushHandleToList(t,o),this.aniList[t])return!1;this.aniList[t]=!0;var c=i.getChildByName("symo"),l=i.getChildByName("multi"),u=i.getChildByName("num");if(n[0]===s.TimesState.OBTAIN)cc.tween(c).set({active:!0,opacity:0}).call(function(){a.setState(l,n[0]),a.setState(u,n[0])}).to(.2,{opacity:255}).to(.2,{opacity:0}).set({active:!1}).call(function(){a.setState(l,n[1]),a.setState(u,n[1]),a.runHandleList(t)}).start();else{switch(t){case 1:r.SoundManager111001801.ins.playEffect(r.SoundName111001801.vox_multi_x2_double,!1);break;case 2:r.SoundManager111001801.ins.playEffect(r.SoundName111001801.vox_multi_x3_triple,!1);break;case 3:r.SoundManager111001801.ins.playEffect(r.SoundName111001801.vox_multi_x4_incredible,!1);break;case 4:r.SoundManager111001801.ins.playEffect(r.SoundName111001801.vox_multi_x5_unbelievable,!1)}cc.tween(i).set({scale:1}).call(function(){a.setState(l,n[1]),a.setState(u,n[1])}).to(.07,{scale:1.15}).to(.13,{scale:.65}).to(.1,{scale:1}).call(function(){a.runHandleList(t)}).start()}return!0},t.prototype.pushHandleToList=function(e,t){t&&(this.handleList[e]||(this.handleList[e]=[]),this.handleList[e].push(t))},t.prototype.runHandleList=function(e){var t=this.handleList[e];!t||t.length<=0||(t.forEach(function(e){e.run()}),this.resetHandleList(e))},t.prototype.resetHandleList=function(e){this.handleList[e]=[],this.aniList[e]=!1},t.prototype.setState=function(e,t){this.resetNodeByObj(e),e.children[t].active=!0},t.prototype.resetNodeByObj=function(e){e.children.forEach(function(e){e&&(e.active=!1)})},t.prototype.resetTimesIndex=function(){var e=this;this.curIndex=0;var t=s.TimesState.OBTAIN;this.items.forEach(function(n,o){var a=o<=0?t:s.TimesState.NORMAL,i=n.getChildByName("multi"),r=n.getChildByName("num");e.resetNodeByObj(i),e.resetNodeByObj(r),i.children[a].active=!0,r.children[a].active=!0})},t.prototype.syncTimesIndex=function(){var e,t,n,o,a,i=this;if(!(Number(null===(e=slot.SpinManager.instance)||void 0===e?void 0:e.spinWin)<=0)){var r=null===(a=null===(o=null===(n=null===(t=slot.SpinManager.instance)||void 0===t?void 0:t.customUpdateData)||void 0===n?void 0:n.game_1110018)||void 0===o?void 0:o.data)||void 0===a?void 0:a.resultList;if(r){var c=r[Math.max(0,r.length-2)];if(!((null==c?void 0:c.rate)<1)){var l=c.rate-1;this.curIndex=0;var u=s.TimesState.USE;this.items.forEach(function(e,t){var n=t<=l?u:s.TimesState.NORMAL,o=e.getChildByName("multi"),a=e.getChildByName("num");i.resetNodeByObj(o),i.resetNodeByObj(a),o.children[n].active=!0,a.children[n].active=!0})}}}},i([p({type:[cc.Node],tooltip:"\u500d\u6570item\u9879"})],t.prototype,"items",void 0),i([u,d("game/111001801/TimesManager")],t)}(cc.Component);n.TimesManager111001801=h,cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/SoundManager111001801":"SoundManager111001801","../../const/GameConst111001801":"GameConst111001801"}],Util111001801:[function(e,t,n){"use strict";cc._RF.push(t,"e46dea+RMVPbrYavWVRAObL","Util111001801"),Object.defineProperty(n,"__esModule",{value:!0}),n.Util111001801=void 0;var o=function(){function e(){}return e.setAniByHandle=function(e,t,n,o,a){n?(o&&o.run(),a&&a()):e.setEndListener(function(){e.setEndListener(null),o&&o.run(),a&&a()}),e.setAnimation(0,t,n)},e.fadeAni=function(e,t,n,o){void 0===n&&(n=.3),cc.tween(e).set({opacity:t?0:255,active:!0}).to(n,{opacity:t?255:0}).call(function(){o&&o.run()}).start()},e.preloadBonusPop=function(e){void 0===e&&(e=!1),(e||slot.SpinManager.instance.lastTimeSpinResult.spinResult&&slot.SpinManager.instance.lastTimeSpinResult.spinResult.nextState)&&game.ResLoader.getInstance().loadRes("prefabs/bonusGame/bonusGame",cc.Prefab,slot.GData.bundleName)},e.converPos=function(e,t){var n=e.convertToWorldSpaceAR(cc.v2(0,0));return t.convertToNodeSpaceAR(n)},e.updatenNumberAnim=function(e,t,n,o,a,i){void 0===a&&(a=1),void 0===i&&(i=!1),n.string=e+"",cc.tween({num:e}).to(a,{num:t},{progress:function(e,t,o,a){return n.string=i?slot.SlotUtils.formatNumber(Math.ceil(e+(t-e)*a)):Math.ceil(e+(t-e)*a)+"",e+(t-e)*a}}).call(function(){o&&o.run()}).start()},e}();n.Util111001801=o,window.Util111001801=o,cc._RF.pop()},{}],WinManager111001801:[function(e,t,n){"use strict";cc._RF.push(t,"8a7eeUMgoxF1bRrnwUW1fO2","WinManager111001801");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.InfoAniName111001801=n.WinManager111001801=void 0;var r,s=e("../../base/SoundManager111001801"),c=e("../../GameEventName111001801"),l=cc._decorator,u=l.ccclass,p=l.property,d=l.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.winTitle=null,t.toalWinTitle=null,t.numText=null,t.infoSp=null,t._totalNum=0,t.inAni=!1,t.hs=[],t}return a(t,e),t.prototype.onLoad=function(){this.winNode.active=!1,this.addListten(),window.WinManager111001801=this},t.prototype.onDestroy=function(){this.removeListten()},t.prototype.addListten=function(){game.EventManager.getInstance().addEventListener(c.EventName.SET_WIN_COIN_NUM,this.setWinCoin,this)},t.prototype.removeListten=function(){game.EventManager.getInstance().removeEventListener(c.EventName.SET_WIN_COIN_NUM,this.setWinCoin,this)},Object.defineProperty(t.prototype,"totalNum",{get:function(){return this._totalNum},set:function(e){this._totalNum=e},enumerable:!1,configurable:!0}),t.prototype.setWinCoin=function(e,t,n){if(this.winNode.active=!!t,!t)return this.playInfoAni(this.totalNum,0,n,!0),this.totalNum=0,void game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START);game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP);var o=t.inc?this.totalNum+t.num:t.num;n&&n.run(),this.playInfoAni(this.totalNum,o),this.totalNum=o,this.winNode.children[0].active=!t.isTotal,this.winNode.children[1].active=!!t.isTotal,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,this.totalNum);var a=Number(t.balance)+Number(t.num);game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,a),this.numText.string=slot.SlotUtils.formatNumber(this.totalNum)},t.prototype.playInfoAni=function(e,t,n,o){var a=this;void 0===o&&(o=!1);var i=[];if(t>=5*slot.SpinManager.instance.betCost&&t<10*slot.SpinManager.instance.betCost&&e<5*slot.SpinManager.instance.betCost&&(i=[{ani:r.WIN_MEDIUM,loop:!1},{ani:r.WIN_MEDIUM_LOOP,loop:!0}],s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_big_win_infobar_bounce,!1)),t>=10*slot.SpinManager.instance.betCost&&e<10*slot.SpinManager.instance.betCost&&(i=[{ani:r.WIN_FADE_IN,loop:!1},{ani:r.WIN_LOOP,loop:!0}],s.SoundManager111001801.ins.playEffect(s.SoundName111001801.prize_big_win_infobar_bounce,!1)),t<e&&(e>=10*slot.SpinManager.instance.betCost?i=[{ani:r.WIN_FADE_OUT,loop:!1},{ani:r.STATIC,loop:!0}]:e>=5*slot.SpinManager.instance.betCost&&(i=[{ani:r.WIN_MEDIUM_OUT,loop:!1},{ani:r.STATIC,loop:!0}])),i.length>0){if(o&&(this.infoSp.setEndListener(null),this.runAndClear(),this.inAni=!1),n&&this.hs.push(n),this.inAni)return;this.inAni=!0,this.infoSp.setEndListener(function(){i[1]&&a.infoSp.setAnimation(0,i[1].ani,i[1].loop),a.infoSp.setEndListener(null),a.runAndClear(),a.inAni=!1}),this.infoSp.setAnimation(0,i[0].ani,i[0].loop)}else n&&n.run()},t.prototype.runAndClear=function(){this.hs.forEach(function(e){e&&e.run()}),this.hs=[]},i([p(cc.Node)],t.prototype,"winNode",void 0),i([p(cc.Node)],t.prototype,"winTitle",void 0),i([p(cc.Node)],t.prototype,"toalWinTitle",void 0),i([p(cc.Label)],t.prototype,"numText",void 0),i([p(sp.Skeleton)],t.prototype,"infoSp",void 0),i([u,d("game/111001801/WinManager")],t)}(cc.Component);n.WinManager111001801=h,function(e){e.STATIC="win_c",e.WIN_MEDIUM="win_a",e.WIN_MEDIUM_LOOP="win_a_loop",e.WIN_MEDIUM_OUT="win_a_fadeout",e.WIN_FADE_IN="win_b_fadein",e.WIN_LOOP="win_b_loop",e.WIN_FADE_OUT="win_b_fadeout"}(r=n.InfoAniName111001801||(n.InfoAniName111001801={})),cc._RF.pop()},{"../../GameEventName111001801":"GameEventName111001801","../../base/SoundManager111001801":"SoundManager111001801"}]},{},["GameEventName111001801","NumAtlasLabel111001801","CommonNum111001801","EliminateManager111001801","GData111001801","GameData111001801","LanguageInfoBase111001801","LanguangeCompSlot111001801","MultiPSRandomRefresh111001801","ObtainNum111001801","ParticleSpriteFramesRefresh","SlotItemDisplay111001801","SoundManager111001801","SpriteClamp121020501","SubQueueManager111001801","Util111001801","BonusBubbleItem111001801","BonusBubbleRewardItem111001801","BonusGame111001801","BonusGameUIManager111001801","GameConfig111001801","GameConst111001801","GameEvent111001801","GameInterface111001801","GameBg111001801","Main111001801","Adaptive111001801","JTBegin111001801","JTChildManager111001801","JTLayerManager111001801","JTOver111001801","JTRun111001801","JTScrollingPipeline111001801","Banner111001801","EffectManager111001801","ElementAniManager111001801","GameLayer111001801","GameLayerSubManager111001801","JTCreateScrolling111001801","ObtainLayerManager111001801","RoleManager111001801","SpinBtnManager111001801","SpinSlotView111001801","StoveManager111001801","TimesManager111001801","WinManager111001801"]);